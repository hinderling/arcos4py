
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bgraedel.github.io/arcos4py/api/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-8.5.10">
    
    
      
        <title>Modules - arcos4py</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#arcos4py" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="arcos4py" class="md-header__button md-logo" aria-label="arcos4py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            arcos4py
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Modules
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bgraedel/arcos4py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bgraedel/arcos4py
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="arcos4py" class="md-nav__button md-logo" aria-label="arcos4py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    arcos4py
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bgraedel/arcos4py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bgraedel/arcos4py
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Modules
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arcos4py" class="md-nav__link">
    arcos4py
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.ARCOS" class="md-nav__link">
    ARCOS
  </a>
  
    <nav class="md-nav" aria-label="ARCOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.bin_measurements" class="md-nav__link">
    bin_measurements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.clip_meas" class="md-nav__link">
    clip_meas()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.interpolate_measurements" class="md-nav__link">
    interpolate_measurements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.trackCollev" class="md-nav__link">
    trackCollev()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.plotting" class="md-nav__link">
    plotting
  </a>
  
    <nav class="md-nav" aria-label="plotting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot" class="md-nav__link">
    NoodlePlot
  </a>
  
    <nav class="md-nav" aria-label="NoodlePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.NoodlePlot.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.NoodlePlot.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots" class="md-nav__link">
    dataPlots
  </a>
  
    <nav class="md-nav" aria-label="dataPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.density_plot" class="md-nav__link">
    density_plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.histogram" class="md-nav__link">
    histogram()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.position_t_plot" class="md-nav__link">
    position_t_plot()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended" class="md-nav__link">
    plotOriginalDetrended
  </a>
  
    <nav class="md-nav" aria-label="plotOriginalDetrended">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.plotOriginalDetrended.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.plotOriginalDetrended.plot_detrended" class="md-nav__link">
    plot_detrended()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots" class="md-nav__link">
    statsPlots
  </a>
  
    <nav class="md-nav" aria-label="statsPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.statsPlots.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.statsPlots.plot_events_duration" class="md-nav__link">
    plot_events_duration()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.tools" class="md-nav__link">
    tools
  </a>
  
    <nav class="md-nav" aria-label="tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData" class="md-nav__link">
    binData
  </a>
  
    <nav class="md-nav" aria-label="binData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._binarize_detrend.binData.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._binarize_detrend.binData.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats" class="md-nav__link">
    calcCollevStats
  </a>
  
    <nav class="md-nav" aria-label="calcCollevStats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._stats.calcCollevStats.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._stats.calcCollevStats.calculate" class="md-nav__link">
    calculate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas" class="md-nav__link">
    clipMeas
  </a>
  
    <nav class="md-nav" aria-label="clipMeas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.clipMeas.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.clipMeas.clip" class="md-nav__link">
    clip()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev" class="md-nav__link">
    detectCollev
  </a>
  
    <nav class="md-nav" aria-label="detectCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._detect_events.detectCollev.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._detect_events.detectCollev.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev" class="md-nav__link">
    filterCollev
  </a>
  
    <nav class="md-nav" aria-label="filterCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._filter_events.filterCollev.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._filter_events.filterCollev.filter" class="md-nav__link">
    filter()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation" class="md-nav__link">
    interpolation
  </a>
  
    <nav class="md-nav" aria-label="interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.interpolation.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.interpolation.interpolate" class="md-nav__link">
    interpolate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.estimate_eps" class="md-nav__link">
    estimate_eps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_dataframe" class="md-nav__link">
    track_events_dataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_image" class="md-nav__link">
    track_events_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.validation" class="md-nav__link">
    validation
  </a>
  
    <nav class="md-nav" aria-label="validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.bootstrap_arcos" class="md-nav__link">
    bootstrap_arcos()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_arcos_stats" class="md-nav__link">
    calculate_arcos_stats()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_pvalue" class="md-nav__link">
    calculate_pvalue()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.resample_data" class="md-nav__link">
    resample_data()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arcos4py" class="md-nav__link">
    arcos4py
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.ARCOS" class="md-nav__link">
    ARCOS
  </a>
  
    <nav class="md-nav" aria-label="ARCOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.bin_measurements" class="md-nav__link">
    bin_measurements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.clip_meas" class="md-nav__link">
    clip_meas()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.interpolate_measurements" class="md-nav__link">
    interpolate_measurements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py._arcos4py.ARCOS.trackCollev" class="md-nav__link">
    trackCollev()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.plotting" class="md-nav__link">
    plotting
  </a>
  
    <nav class="md-nav" aria-label="plotting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot" class="md-nav__link">
    NoodlePlot
  </a>
  
    <nav class="md-nav" aria-label="NoodlePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.NoodlePlot.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.NoodlePlot.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots" class="md-nav__link">
    dataPlots
  </a>
  
    <nav class="md-nav" aria-label="dataPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.density_plot" class="md-nav__link">
    density_plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.histogram" class="md-nav__link">
    histogram()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.dataPlots.position_t_plot" class="md-nav__link">
    position_t_plot()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended" class="md-nav__link">
    plotOriginalDetrended
  </a>
  
    <nav class="md-nav" aria-label="plotOriginalDetrended">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.plotOriginalDetrended.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.plotOriginalDetrended.plot_detrended" class="md-nav__link">
    plot_detrended()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots" class="md-nav__link">
    statsPlots
  </a>
  
    <nav class="md-nav" aria-label="statsPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.statsPlots.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting._plotting.statsPlots.plot_events_duration" class="md-nav__link">
    plot_events_duration()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.tools" class="md-nav__link">
    tools
  </a>
  
    <nav class="md-nav" aria-label="tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData" class="md-nav__link">
    binData
  </a>
  
    <nav class="md-nav" aria-label="binData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._binarize_detrend.binData.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._binarize_detrend.binData.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats" class="md-nav__link">
    calcCollevStats
  </a>
  
    <nav class="md-nav" aria-label="calcCollevStats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._stats.calcCollevStats.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._stats.calcCollevStats.calculate" class="md-nav__link">
    calculate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas" class="md-nav__link">
    clipMeas
  </a>
  
    <nav class="md-nav" aria-label="clipMeas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.clipMeas.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.clipMeas.clip" class="md-nav__link">
    clip()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev" class="md-nav__link">
    detectCollev
  </a>
  
    <nav class="md-nav" aria-label="detectCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._detect_events.detectCollev.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._detect_events.detectCollev.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev" class="md-nav__link">
    filterCollev
  </a>
  
    <nav class="md-nav" aria-label="filterCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._filter_events.filterCollev.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._filter_events.filterCollev.filter" class="md-nav__link">
    filter()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation" class="md-nav__link">
    interpolation
  </a>
  
    <nav class="md-nav" aria-label="interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.interpolation.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools._cleandata.interpolation.interpolate" class="md-nav__link">
    interpolate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.estimate_eps" class="md-nav__link">
    estimate_eps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_dataframe" class="md-nav__link">
    track_events_dataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_image" class="md-nav__link">
    track_events_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.validation" class="md-nav__link">
    validation
  </a>
  
    <nav class="md-nav" aria-label="validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.bootstrap_arcos" class="md-nav__link">
    bootstrap_arcos()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_arcos_stats" class="md-nav__link">
    calculate_arcos_stats()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_pvalue" class="md-nav__link">
    calculate_pvalue()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.resample_data" class="md-nav__link">
    resample_data()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/bgraedel/arcos4py/edit/master/docs/api.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Modules</h1>

<div class="doc doc-object doc-module">


<a id="arcos4py"></a>
  <div class="doc doc-contents first">
  
      <p>Arcos4py top level module.</p>
<p>This package is a python implementation of the Arcos algorithm for the detection
and tracking of collective events intime-series data.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="arcos4py.ARCOS" class="doc doc-heading">
          <code>ARCOS</code>


<a href="#arcos4py.ARCOS" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Detects and tracks collective events in a tracked time-series dataset.</p>
<p>Requires binarized measurement column, that can be generated with the
bin_measurements method.
Tracking makes use of the dbscan algorithm, which is applied to every frame
and subsequently connects collective events between frames located
within eps distance of each other.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Data of tracked time-series in "long format". Can be used to
acess modified dataframe at any point.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List containing position column names strings inside data e.g.
At least one dimension is required.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in input_data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the track id/id column in input_data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>measurement_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the measurement column in input_data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>clid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the column name containing the collective event ids.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>bin_col</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the binary column. This is generated based on the name of the measurement_column
after binarization.
Optionally can be set in order to provide a already binarized column to skip ARCOS binarization.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ARCOS</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Detects and tracks collective events in a tracked time-series dataset.</span>

<span class="sd">    Requires binarized measurement column, that can be generated with the</span>
<span class="sd">    bin_measurements method.</span>
<span class="sd">    Tracking makes use of the dbscan algorithm, which is applied to every frame</span>
<span class="sd">    and subsequently connects collective events between frames located</span>
<span class="sd">    within eps distance of each other.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (DataFrame): Data of tracked time-series in &quot;long format&quot;. Can be used to</span>
<span class="sd">            acess modified dataframe at any point.</span>
<span class="sd">        posCols (list): List containing position column names strings inside data e.g.</span>
<span class="sd">            At least one dimension is required.</span>
<span class="sd">        frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">        id_column (str): Indicating the track id/id column in input_data.</span>
<span class="sd">        measurement_column (str): Indicating the measurement column in input_data.</span>
<span class="sd">        clid_column (str): Indicating the column name containing the collective event ids.</span>
<span class="sd">        bin_col (str | None): Name of the binary column. This is generated based on the name of the measurement_column</span>
<span class="sd">            after binarization.</span>
<span class="sd">            Optionally can be set in order to provide a already binarized column to skip ARCOS binarization.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
        <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
        <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
        <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs class with provided arguments.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): Input Data of tracked time-series in &quot;long format&quot; containing position columns,</span>
<span class="sd">                a measurement and an object ID column.</span>
<span class="sd">            posCols (list): List ontaining position column names strings inside data e.g.</span>
<span class="sd">                At least one dimension is required.</span>
<span class="sd">            frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">            id_column (str): Indicating the track id/object id column in input_data. If None, the data is assumed to</span>
<span class="sd">                not have a tracking column. Binarization can only be performed without detrending.</span>
<span class="sd">            measurement_column (str): Indicating the measurement column in input_data.</span>
<span class="sd">            clid_column (str): Indicating the column name containing the collective event ids.</span>
<span class="sd">            n_jobs (str): Number of workers to spawn, -1 uses all available cpus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posCols</span> <span class="o">=</span> <span class="n">posCols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="o">=</span> <span class="n">measurement_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># to check if no measurement was provided assign None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_col</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resc_col</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.resc&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.bin&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set __repr__ to return self.data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_col</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks that self.cols contains all required columns.&quot;&quot;&quot;</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
        <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span>
        <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">input_columns</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">item</span> <span class="ow">in</span> <span class="n">columns</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">input_columns</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns </span><span class="si">{</span><span class="n">input_columns</span><span class="si">}</span><span class="s2"> do not match with column in dataframe.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">interpolate_measurements</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Interpolates NaN&#39;s in place in measurement column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dataframe with interpolated measurement column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">meas_interp</span> <span class="o">=</span> <span class="n">interpolation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">meas_interp</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

    <span class="k">def</span> <span class="nf">clip_meas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            clip_low (float): Lower clipping boundary (quantile).</span>

<span class="sd">            clip_high (float): Upper clipping boundary (quantile).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dataframe with in place clipped measurement column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">meas_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">meas_clipped</span> <span class="o">=</span> <span class="n">clipMeas</span><span class="p">(</span><span class="n">meas_column</span><span class="p">)</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span> <span class="o">=</span> <span class="n">meas_clipped</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

    <span class="k">def</span> <span class="nf">bin_measurements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
        <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
        <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">        First a short-term median filter with size smoothK</span>
<span class="sd">        is applied to remove fast noise from the time series.</span>
<span class="sd">        If the de-trending method is set to &quot;none&quot;,</span>
<span class="sd">        smoothing is applied on globally rescaled time series.</span>
<span class="sd">        The subsequent de-trending can be performed with a long-term median filter</span>
<span class="sd">        with the size biasK {biasMet = &quot;runmed&quot;}</span>
<span class="sd">        or by fitting a polynomial of degree polyDeg {biasMet = &quot;lm&quot;}.</span>

<span class="sd">        After de-trending,</span>
<span class="sd">        if the global difference between min/max is greater than the threshold</span>
<span class="sd">        the signal is rescaled to the (0,1) range.</span>
<span class="sd">        The final signal is binarised using the binThr threshold</span>

<span class="sd">        Arguments:</span>
<span class="sd">            smoothK (int): Size of the short-term median smoothing filter.</span>
<span class="sd">            biasK (int): Size of the long-term de-trending median filter</span>
<span class="sd">            peakThr (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">            binThr (float): Threshold for binary classification.</span>
<span class="sd">            polyDeg (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">            biasMet (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">                If no id_column is provided, only &#39;none&#39; is allowed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame with detrended/smoothed and binarized measurement column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">binData</span><span class="p">(</span>
            <span class="n">smoothK</span><span class="p">,</span>
            <span class="n">biasK</span><span class="p">,</span>
            <span class="n">peakThr</span><span class="p">,</span>
            <span class="n">binThr</span><span class="p">,</span>
            <span class="n">polyDeg</span><span class="p">,</span>
            <span class="n">biasMet</span><span class="p">,</span>
            <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">colMeas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">,</span> <span class="n">colGroup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span> <span class="n">colFrame</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

    <span class="k">def</span> <span class="nf">trackCollev</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">minClsz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">clusteringMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
        <span class="n">linkingMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
        <span class="n">minSamples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Requires binarized measurement column.</span>

<span class="sd">        Makes use of the dbscan algorithm,</span>
<span class="sd">        applies this to every timeframe and subsequently connects</span>
<span class="sd">        collective events between frames located within eps distance of each other.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">                the neighbourhood of the other.</span>
<span class="sd">                This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">            epsPrev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">                collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">            minClsz (str): The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">            nPrev (int): Number of previous frames the tracking</span>
<span class="sd">                algorithm looks back to connect collective events</span>
<span class="sd">            clusteringMethod (str): Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">            minSamples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">                point to be considered as a core point. This includes the point itself.</span>
<span class="sd">                Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">            linkingMethod (str): Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame with detected collective events across time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_events</span> <span class="o">=</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
            <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">coordinates_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">posCols</span><span class="p">,</span>
            <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
            <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span>
            <span class="n">bin_meas_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span><span class="p">,</span>
            <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
            <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
            <span class="n">minClSz</span><span class="o">=</span><span class="n">minClsz</span><span class="p">,</span>
            <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
            <span class="n">collid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="n">linkingMethod</span><span class="o">=</span><span class="n">linkingMethod</span><span class="p">,</span>
            <span class="n">clusteringMethod</span><span class="o">=</span><span class="n">clusteringMethod</span><span class="p">,</span>
            <span class="n">minSamples</span><span class="o">=</span><span class="n">minSamples</span><span class="p">,</span>
            <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">data_events</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">posCols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;meas&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

<a href="#arcos4py._arcos4py.ARCOS.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Constructs class with provided arguments.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input Data of tracked time-series in "long format" containing position columns,
a measurement and an object ID column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List ontaining position column names strings inside data e.g.
At least one dimension is required.</p>
            </div>
          </td>
          <td>
                <code>[&#39;x&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in input_data.</p>
            </div>
          </td>
          <td>
                <code>&#39;time&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the track id/object id column in input_data. If None, the data is assumed to
not have a tracking column. Binarization can only be performed without detrending.</p>
            </div>
          </td>
          <td>
                <code>&#39;id&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>measurement_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the measurement column in input_data.</p>
            </div>
          </td>
          <td>
                <code>&#39;meas&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>clid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the column name containing the collective event ids.</p>
            </div>
          </td>
          <td>
                <code>&#39;clTrackID&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>n_jobs</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of workers to spawn, -1 uses all available cpus.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with provided arguments.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): Input Data of tracked time-series in &quot;long format&quot; containing position columns,</span>
<span class="sd">            a measurement and an object ID column.</span>
<span class="sd">        posCols (list): List ontaining position column names strings inside data e.g.</span>
<span class="sd">            At least one dimension is required.</span>
<span class="sd">        frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">        id_column (str): Indicating the track id/object id column in input_data. If None, the data is assumed to</span>
<span class="sd">            not have a tracking column. Binarization can only be performed without detrending.</span>
<span class="sd">        measurement_column (str): Indicating the measurement column in input_data.</span>
<span class="sd">        clid_column (str): Indicating the column name containing the collective event ids.</span>
<span class="sd">        n_jobs (str): Number of workers to spawn, -1 uses all available cpus.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posCols</span> <span class="o">=</span> <span class="n">posCols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="o">=</span> <span class="n">measurement_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># to check if no measurement was provided assign None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_check_col</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resc_col</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.resc&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.bin&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#arcos4py._arcos4py.ARCOS.__repr__" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Set <strong>repr</strong> to return self.data.</p>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set __repr__ to return self.data.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.bin_measurements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bin_measurements</span><span class="p">(</span><span class="n">smoothK</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">biasK</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peakThr</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binThr</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polyDeg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">biasMet</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">)</span></code>

<a href="#arcos4py._arcos4py.ARCOS.bin_measurements" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Smooth, de-trend, and binarise the input data.</p>
<p>First a short-term median filter with size smoothK
is applied to remove fast noise from the time series.
If the de-trending method is set to "none",
smoothing is applied on globally rescaled time series.
The subsequent de-trending can be performed with a long-term median filter
with the size biasK {biasMet = "runmed"}
or by fitting a polynomial of degree polyDeg {biasMet = "lm"}.</p>
<p>After de-trending,
if the global difference between min/max is greater than the threshold
the signal is rescaled to the (0,1) range.
The final signal is binarised using the binThr threshold</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>smoothK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the short-term median smoothing filter.</p>
            </div>
          </td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>biasK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the long-term de-trending median filter</p>
            </div>
          </td>
          <td>
                <code>51</code>
          </td>
        </tr>
        <tr>
          <td><code>peakThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for rescaling of the de-trended signal.</p>
            </div>
          </td>
          <td>
                <code>0.2</code>
          </td>
        </tr>
        <tr>
          <td><code>binThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for binary classification.</p>
            </div>
          </td>
          <td>
                <code>0.1</code>
          </td>
        </tr>
        <tr>
          <td><code>polyDeg</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Sets the degree of the polynomial for lm fitting.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>biasMet</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>De-trending method, one of ['runmed', 'lm', 'none'].
If no id_column is provided, only 'none' is allowed.</p>
            </div>
          </td>
          <td>
                <code>&#39;runmed&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with detrended/smoothed and binarized measurement column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bin_measurements</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">    First a short-term median filter with size smoothK</span>
<span class="sd">    is applied to remove fast noise from the time series.</span>
<span class="sd">    If the de-trending method is set to &quot;none&quot;,</span>
<span class="sd">    smoothing is applied on globally rescaled time series.</span>
<span class="sd">    The subsequent de-trending can be performed with a long-term median filter</span>
<span class="sd">    with the size biasK {biasMet = &quot;runmed&quot;}</span>
<span class="sd">    or by fitting a polynomial of degree polyDeg {biasMet = &quot;lm&quot;}.</span>

<span class="sd">    After de-trending,</span>
<span class="sd">    if the global difference between min/max is greater than the threshold</span>
<span class="sd">    the signal is rescaled to the (0,1) range.</span>
<span class="sd">    The final signal is binarised using the binThr threshold</span>

<span class="sd">    Arguments:</span>
<span class="sd">        smoothK (int): Size of the short-term median smoothing filter.</span>
<span class="sd">        biasK (int): Size of the long-term de-trending median filter</span>
<span class="sd">        peakThr (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">        binThr (float): Threshold for binary classification.</span>
<span class="sd">        polyDeg (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">        biasMet (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">            If no id_column is provided, only &#39;none&#39; is allowed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame with detrended/smoothed and binarized measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">binData</span><span class="p">(</span>
        <span class="n">smoothK</span><span class="p">,</span>
        <span class="n">biasK</span><span class="p">,</span>
        <span class="n">peakThr</span><span class="p">,</span>
        <span class="n">binThr</span><span class="p">,</span>
        <span class="n">polyDeg</span><span class="p">,</span>
        <span class="n">biasMet</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">colMeas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">,</span> <span class="n">colGroup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span> <span class="n">colFrame</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.clip_meas" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clip_meas</span><span class="p">(</span><span class="n">clip_low</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="o">=</span><span class="mf">0.999</span><span class="p">)</span></code>

<a href="#arcos4py._arcos4py.ARCOS.clip_meas" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>clip_low</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Lower clipping boundary (quantile).</p>
            </div>
          </td>
          <td>
                <code>0.001</code>
          </td>
        </tr>
        <tr>
          <td><code>clip_high</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Upper clipping boundary (quantile).</p>
            </div>
          </td>
          <td>
                <code>0.999</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe with in place clipped measurement column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clip_meas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        clip_low (float): Lower clipping boundary (quantile).</span>

<span class="sd">        clip_high (float): Upper clipping boundary (quantile).</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe with in place clipped measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">meas_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
    <span class="n">meas_clipped</span> <span class="o">=</span> <span class="n">clipMeas</span><span class="p">(</span><span class="n">meas_column</span><span class="p">)</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span> <span class="o">=</span> <span class="n">meas_clipped</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.interpolate_measurements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">interpolate_measurements</span><span class="p">()</span></code>

<a href="#arcos4py._arcos4py.ARCOS.interpolate_measurements" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Interpolates NaN's in place in measurement column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe with interpolated measurement column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_measurements</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolates NaN&#39;s in place in measurement column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe with interpolated measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">meas_interp</span> <span class="o">=</span> <span class="n">interpolation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">meas_interp</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py._arcos4py.ARCOS.trackCollev" class="doc doc-heading">
<code class="highlight language-python"><span class="n">trackCollev</span><span class="p">(</span><span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClsz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">clusteringMethod</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">minSamples</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#arcos4py._arcos4py.ARCOS.trackCollev" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Requires binarized measurement column.</p>
<p>Makes use of the dbscan algorithm,
applies this to every timeframe and subsequently connects
collective events between frames located within eps distance of each other.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.
This is not a maximum bound on the distances of points within a cluster.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>float | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Frame to frame distance, value is used to connect
collective events across multiple frames.If "None", same value as eps is used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClsz</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The minimum size for a cluster to be identified as a collective event</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames the tracking
algorithm looks back to connect collective events</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>clusteringMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Clustering method, one of ['dbscan', 'hdbscan'].</p>
            </div>
          </td>
          <td>
                <code>&#39;dbscan&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>minSamples</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>linkingMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Linking method, one of ['nearest', 'transportation'].</p>
            </div>
          </td>
          <td>
                <code>&#39;nearest&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with detected collective events across time.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">trackCollev</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClsz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">clusteringMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linkingMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
    <span class="n">minSamples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Requires binarized measurement column.</span>

<span class="sd">    Makes use of the dbscan algorithm,</span>
<span class="sd">    applies this to every timeframe and subsequently connects</span>
<span class="sd">    collective events between frames located within eps distance of each other.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">            This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">        epsPrev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        minClsz (str): The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">        nPrev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events</span>
<span class="sd">        clusteringMethod (str): Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">        minSamples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        linkingMethod (str): Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame with detected collective events across time.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_events</span> <span class="o">=</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
        <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">coordinates_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">posCols</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">bin_meas_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_col</span><span class="p">,</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
        <span class="n">minClSz</span><span class="o">=</span><span class="n">minClsz</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
        <span class="n">collid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
        <span class="n">linkingMethod</span><span class="o">=</span><span class="n">linkingMethod</span><span class="p">,</span>
        <span class="n">clusteringMethod</span><span class="o">=</span><span class="n">clusteringMethod</span><span class="p">,</span>
        <span class="n">minSamples</span><span class="o">=</span><span class="n">minSamples</span><span class="p">,</span>
        <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">data_events</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-module">



<h2 id="arcos4py.plotting" class="doc doc-heading">
            <code>plotting</code>


<a href="#arcos4py.plotting" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents ">
  
      <p>Tools for plotting collective events.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.NoodlePlot" class="doc doc-heading">
          <code>NoodlePlot</code>


<a href="#arcos4py.plotting.NoodlePlot" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Create Noodle Plot of cell tracks, colored by collective event id.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing collective events from arcos.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>colev</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the collective event column in df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>trackid</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the track column in df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the frame column in df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>posx</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the X coordinate column in df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>posy</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the Y coordinate column in df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>posz</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the Z coordinate column in df,
or None if no z column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">NoodlePlot</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create Noodle Plot of cell tracks, colored by collective event id.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        df (pd.DataFrame): DataFrame containing collective events from arcos.</span>
<span class="sd">        colev (str): Name of the collective event column in df.</span>
<span class="sd">        trackid (str): Name of the track column in df.</span>
<span class="sd">        frame (str): Name of the frame column in df.</span>
<span class="sd">        posx (str): Name of the X coordinate column in df.</span>
<span class="sd">        posy (str): Name of the Y coordinate column in df.</span>
<span class="sd">        posz (str): Name of the Z coordinate column in df,</span>
<span class="sd">            or None if no z column.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">colev</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">trackid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posx</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs class with given parameters.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            df (pd.DataFrame): DataFrame containing collective events from arcos.</span>
<span class="sd">            colev (str): Name of the collective event column in df.</span>
<span class="sd">            trackid (str): Name of the track column in df.</span>
<span class="sd">            frame (str): Name of the frame column in df.</span>
<span class="sd">            posx (str): Name of the X coordinate column in df.</span>
<span class="sd">            posy (str): Name of the Y coordinate column in df.</span>
<span class="sd">            posz (str | None): Name of the Z coordinate column in df,</span>
<span class="sd">                or None if no z column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colev</span> <span class="o">=</span> <span class="n">colev</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trackid</span> <span class="o">=</span> <span class="n">trackid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posx</span> <span class="o">=</span> <span class="n">posx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posy</span> <span class="o">=</span> <span class="n">posy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posz</span> <span class="o">=</span> <span class="n">posz</span>

    <span class="k">def</span> <span class="nf">_prepare_data_noodleplot</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">color_cylce</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">colev</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">trackid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posx</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;From arcos collective event data,\</span>
<span class="sd">        generates a list of numpy arrays, one for each event.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            df (pd.DataFrame): DataFrame containing collective events from arcos.</span>
<span class="sd">            color_cylce (list[str]): list of colors used to color trackid&#39;s</span>
<span class="sd">                for individual collective events.</span>
<span class="sd">            colev (str): Name of the collective event column in df.</span>
<span class="sd">            trackid (str): Name of the track column in df.</span>
<span class="sd">            frame: (str): Name of the frame column in df.</span>
<span class="sd">            posx (str): Name of the X coordinate column in df.</span>
<span class="sd">            posy (str): Name of the Y coordinate column in df.</span>
<span class="sd">            posz (str): Name of the Z coordinate column in df,</span>
<span class="sd">                or None if no z column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            grouped_array (list[np.ndarray]): List of collective events data</span>
<span class="sd">            colors (np.ndarray): colors for each collective event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># values need to be sorted to group with numpy</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="n">colev</span><span class="p">,</span> <span class="n">trackid</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">posz</span><span class="p">:</span>
            <span class="n">array</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">colev</span><span class="p">,</span> <span class="n">trackid</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">posx</span><span class="p">,</span> <span class="n">posy</span><span class="p">,</span> <span class="n">posz</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">array</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">colev</span><span class="p">,</span> <span class="n">trackid</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">posx</span><span class="p">,</span> <span class="n">posy</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="c1"># generate goroups for each unique value</span>
        <span class="n">grouped_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">array</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
        <span class="c1"># make collids sequential</span>
        <span class="n">seq_colids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
            <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">grouped_array</span><span class="p">)],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">array_seq_colids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span><span class="n">array</span><span class="p">,</span> <span class="n">seq_colids</span><span class="p">))</span>
        <span class="c1"># split sequential collids array by trackid and collid</span>
        <span class="n">grouped_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span>
            <span class="n">array_seq_colids</span><span class="p">,</span>
            <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">array_seq_colids</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span>
        <span class="p">)</span>
        <span class="c1"># generate colors for each collective event, wrap arround the color cycle</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">color_cylce</span><span class="p">),</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">seq_colids</span><span class="p">)],</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">grouped_array</span><span class="p">,</span> <span class="n">colors</span>

    <span class="k">def</span> <span class="nf">_create_noodle_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grouped_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">colors</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plots the noodle plot.&quot;&quot;&quot;</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time Point&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Position&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dat</span> <span class="ow">in</span> <span class="n">grouped_data</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                <span class="n">dat</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
                <span class="n">dat</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span><span class="p">],</span>
                <span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">dat</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])],</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">projection_axis</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color_cylce</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">TAB20</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create Noodle Plot of cell tracks, colored by collective event id.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            projection_axis (str): Specify with witch coordinate the noodle</span>
<span class="sd">                plot should be drawn. Has to be one of the posx, posy or posz arguments</span>
<span class="sd">                passed in during the class instantiation process.</span>
<span class="sd">            color_cylce (list[str]): List of hex color values or string names</span>
<span class="sd">                (i.e. [&#39;red&#39;, &#39;yellow&#39;]) used to color collecitve events. Cycles through list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            fig (matplotlib.figure.Figure): Matplotlib figure object for the noodle plot.</span>
<span class="sd">            axes (matplotlib.axes.Axes): Matplotlib axes for the nooble plot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">projection_axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;projection_axis has to be one of </span><span class="si">{</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data_noodleplot</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">,</span> <span class="n">color_cylce</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colev</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trackid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span>
        <span class="p">)</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_noodle_plot</span><span class="p">(</span><span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.NoodlePlot.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">colev</span><span class="p">,</span> <span class="n">trackid</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">posx</span><span class="p">,</span> <span class="n">posy</span><span class="p">,</span> <span class="n">posz</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.NoodlePlot.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Constructs class with given parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing collective events from arcos.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>colev</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the collective event column in df.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>trackid</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the track column in df.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the frame column in df.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posx</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the X coordinate column in df.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posy</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the Y coordinate column in df.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posz</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the Z coordinate column in df,
or None if no z column.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">colev</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">trackid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">posx</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">posy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">posz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with given parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df (pd.DataFrame): DataFrame containing collective events from arcos.</span>
<span class="sd">        colev (str): Name of the collective event column in df.</span>
<span class="sd">        trackid (str): Name of the track column in df.</span>
<span class="sd">        frame (str): Name of the frame column in df.</span>
<span class="sd">        posx (str): Name of the X coordinate column in df.</span>
<span class="sd">        posy (str): Name of the Y coordinate column in df.</span>
<span class="sd">        posz (str | None): Name of the Z coordinate column in df,</span>
<span class="sd">            or None if no z column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">colev</span> <span class="o">=</span> <span class="n">colev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trackid</span> <span class="o">=</span> <span class="n">trackid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posx</span> <span class="o">=</span> <span class="n">posx</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posy</span> <span class="o">=</span> <span class="n">posy</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posz</span> <span class="o">=</span> <span class="n">posz</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.NoodlePlot.plot" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">projection_axis</span><span class="p">,</span> <span class="n">color_cylce</span><span class="o">=</span><span class="n">TAB20</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.NoodlePlot.plot" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Create Noodle Plot of cell tracks, colored by collective event id.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>projection_axis</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Specify with witch coordinate the noodle
plot should be drawn. Has to be one of the posx, posy or posz arguments
passed in during the class instantiation process.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>color_cylce</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of hex color values or string names
(i.e. ['red', 'yellow']) used to color collecitve events. Cycles through list.</p>
            </div>
          </td>
          <td>
                <code><span title="arcos4py.plotting._plotting.TAB20">TAB20</span></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>fig</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.figure">figure</span>.<span title="matplotlib.figure.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib figure object for the noodle plot.</p>
            </div>
          </td>
        </tr>
        <tr>
<td><code>axes</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.axes">axes</span>.<span title="matplotlib.axes.Axes">Axes</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib axes for the nooble plot.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">projection_axis</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color_cylce</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">TAB20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create Noodle Plot of cell tracks, colored by collective event id.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        projection_axis (str): Specify with witch coordinate the noodle</span>
<span class="sd">            plot should be drawn. Has to be one of the posx, posy or posz arguments</span>
<span class="sd">            passed in during the class instantiation process.</span>
<span class="sd">        color_cylce (list[str]): List of hex color values or string names</span>
<span class="sd">            (i.e. [&#39;red&#39;, &#39;yellow&#39;]) used to color collecitve events. Cycles through list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object for the noodle plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes for the nooble plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">projection_axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;projection_axis has to be one of </span><span class="si">{</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data_noodleplot</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">,</span> <span class="n">color_cylce</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colev</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trackid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span>
    <span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_noodle_plot</span><span class="p">(</span><span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.dataPlots" class="doc doc-heading">
          <code>dataPlots</code>


<a href="#arcos4py.plotting.dataPlots" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Plot different metrics of input data.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of frame column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>measurement</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of measurement column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of track id column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">dataPlots</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot different metrics of input data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (Dataframe): containing ARCOS data.</span>
<span class="sd">        frame (str): name of frame column in data.</span>
<span class="sd">        measurement (str): name of measurement column in data.</span>
<span class="sd">        id (str): name of track id column.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">measurement</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot different metrics such as histogram, position-t and density.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (Dataframe): containing ARCOS data.</span>
<span class="sd">            frame (str): name of frame column in data.</span>
<span class="sd">            measurement (str): name of measurement column in data.</span>
<span class="sd">            id (str): name of track id column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measurement</span> <span class="o">=</span> <span class="n">measurement</span>

    <span class="k">def</span> <span class="nf">position_t_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">posCol</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">},</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plots X and Y over T to visualize tracklength.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            posCol (set): containing names of position columns in data.</span>
<span class="sd">            n (int): number of samples to plot.</span>

<span class="sd">        Returns:</span>
<span class="sd">            fig (matplotlib.figure.Figure): Matplotlib figure object of density plot.</span>
<span class="sd">            axes (matplotlib.axes.Axes): Matplotlib axes of density plot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">pd_from_r_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sample</span><span class="p">)]</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">pd_from_r_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">posCol</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">posCol</span><span class="p">):</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>

    <span class="k">def</span> <span class="nf">density_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Density plot of measurement.</span>

<span class="sd">        Uses Seaborn distplot to plot measurement density.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">            **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">        Returns:</span>
<span class="sd">            FacetGrid (seaborn.FacetGrid): Seaborn FacetGrid of density density plot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;kde&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;pastel&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="c1"># Plot formatting</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Density Plot of Measurement&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Measurement&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot</span>

    <span class="k">def</span> <span class="nf">histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bins</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="o">.</span><span class="n">subplot</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Histogram of tracklenght.</span>

<span class="sd">        Uses seaborn histplot function to plot tracklenght histogram.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            bins (str): number or width of bins in histogram</span>
<span class="sd">            *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">            **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AxesSubplot: Matplotlib AxesSubplot of histogram.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Draw histogram</span>
        <span class="n">track_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">track_length</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Track Length&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># Plot formatting</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Track length Histogram&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Track Length&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.dataPlots.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.dataPlots.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Plot different metrics such as histogram, position-t and density.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of frame column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>measurement</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of measurement column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of track id column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">measurement</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot different metrics such as histogram, position-t and density.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (Dataframe): containing ARCOS data.</span>
<span class="sd">        frame (str): name of frame column in data.</span>
<span class="sd">        measurement (str): name of measurement column in data.</span>
<span class="sd">        id (str): name of track id column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement</span> <span class="o">=</span> <span class="n">measurement</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.dataPlots.density_plot" class="doc doc-heading">
<code class="highlight language-python"><span class="n">density_plot</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.dataPlots.density_plot" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Density plot of measurement.</p>
<p>Uses Seaborn distplot to plot measurement density.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>*args</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>arguments passed on to seaborn histplot function.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>keyword arguments passed on to seaborn histplot function.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>FacetGrid</code></td>          <td>
                <code>seaborn.<span title="seaborn.FacetGrid">FacetGrid</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Seaborn FacetGrid of density density plot.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">density_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Density plot of measurement.</span>

<span class="sd">    Uses Seaborn distplot to plot measurement density.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">        **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        FacetGrid (seaborn.FacetGrid): Seaborn FacetGrid of density density plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;kde&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;pastel&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
    <span class="c1"># Plot formatting</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Density Plot of Measurement&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Measurement&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.dataPlots.histogram" class="doc doc-heading">
<code class="highlight language-python"><span class="n">histogram</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.dataPlots.histogram" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Histogram of tracklenght.</p>
<p>Uses seaborn histplot function to plot tracklenght histogram.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>bins</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>number or width of bins in histogram</p>
            </div>
          </td>
          <td>
                <code>&#39;auto&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>*args</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>arguments passed on to seaborn histplot function.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>keyword arguments passed on to seaborn histplot function.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>AxesSubplot</code></td>          <td>
                <code><span title="matplotlib">plt</span>.<span title="matplotlib.Axes">Axes</span>.<span title="matplotlib.Axes.subplot">subplot</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib AxesSubplot of histogram.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bins</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="o">.</span><span class="n">subplot</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Histogram of tracklenght.</span>

<span class="sd">    Uses seaborn histplot function to plot tracklenght histogram.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        bins (str): number or width of bins in histogram</span>
<span class="sd">        *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">        **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AxesSubplot: Matplotlib AxesSubplot of histogram.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Draw histogram</span>
    <span class="n">track_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">track_length</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Track Length&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1"># Plot formatting</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Track length Histogram&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Track Length&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.dataPlots.position_t_plot" class="doc doc-heading">
<code class="highlight language-python"><span class="n">position_t_plot</span><span class="p">(</span><span class="n">posCol</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.dataPlots.position_t_plot" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Plots X and Y over T to visualize tracklength.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>posCol</code></td>
          <td>
                <code>set</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing names of position columns in data.</p>
            </div>
          </td>
          <td>
                <code>{&#39;x&#39;}</code>
          </td>
        </tr>
        <tr>
          <td><code>n</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>number of samples to plot.</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>fig</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.figure">figure</span>.<span title="matplotlib.figure.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib figure object of density plot.</p>
            </div>
          </td>
        </tr>
        <tr>
<td><code>axes</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.axes">axes</span>.<span title="matplotlib.axes.Axes">Axes</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib axes of density plot.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">position_t_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">posCol</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">},</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots X and Y over T to visualize tracklength.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        posCol (set): containing names of position columns in data.</span>
<span class="sd">        n (int): number of samples to plot.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object of density plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes of density plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">pd_from_r_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sample</span><span class="p">)]</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">pd_from_r_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">posCol</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCol</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">posCol</span><span class="p">):</span>
            <span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.plotOriginalDetrended" class="doc doc-heading">
          <code>plotOriginalDetrended</code>


<a href="#arcos4py.plotting.plotOriginalDetrended" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Plot different detrended vs original data.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of frame column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>measurement</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of measurement column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>detrended</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of detrended column with detrended data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of track id column.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">plotOriginalDetrended</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot different detrended vs original data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (Dataframe): containing ARCOS data.</span>
<span class="sd">        frame (str): name of frame column in data.</span>
<span class="sd">        measurement (str): name of measurement column in data.</span>
<span class="sd">        detrended (str): name of detrended column with detrended data.</span>
<span class="sd">        id (str): name of track id column.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">measurement</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">detrended</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot detrended vs original data.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (Dataframe): containing ARCOS data.</span>
<span class="sd">            frame (str): name of frame column in data.</span>
<span class="sd">            measurement (str): name of measurement column in data.</span>
<span class="sd">            detrended (str): name of detrended column with detrended data.</span>
<span class="sd">            id (str): name of track id column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measurement</span> <span class="o">=</span> <span class="n">measurement</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrended</span> <span class="o">=</span> <span class="n">detrended</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>

    <span class="k">def</span> <span class="nf">plot_detrended</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to plot detrended vs original data.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            n_samples (int): Number of tracks to plot.</span>
<span class="sd">            subplots (tuple): Number of subplots, should be approx. one per sample.</span>
<span class="sd">            plotsize (tuple): Size of generated plot.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Fig (matplotlib.axes.Axes): Matplotlib axes2d of detrended vs original data.</span>
<span class="sd">            Axes (matplotlib.axes.Axes): Matplotlib figure of detrended vs original data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">n_samples</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">vals</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">grouped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">ncols</span> <span class="o">=</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">nrows</span> <span class="o">=</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">axes2d</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">plotsize</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">grouped</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">axes2d</span><span class="o">.</span><span class="n">flatten</span><span class="p">()):</span>
            <span class="n">grouped</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrended</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes2d</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.plotOriginalDetrended.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">detrended</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.plotOriginalDetrended.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Plot detrended vs original data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of frame column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>measurement</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of measurement column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>detrended</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of detrended column with detrended data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of track id column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">measurement</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">detrended</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot detrended vs original data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (Dataframe): containing ARCOS data.</span>
<span class="sd">        frame (str): name of frame column in data.</span>
<span class="sd">        measurement (str): name of measurement column in data.</span>
<span class="sd">        detrended (str): name of detrended column with detrended data.</span>
<span class="sd">        id (str): name of track id column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement</span> <span class="o">=</span> <span class="n">measurement</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">detrended</span> <span class="o">=</span> <span class="n">detrended</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.plotOriginalDetrended.plot_detrended" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_detrended</span><span class="p">(</span><span class="n">n_samples</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span></code>

<a href="#arcos4py.plotting._plotting.plotOriginalDetrended.plot_detrended" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Method to plot detrended vs original data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_samples</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of tracks to plot.</p>
            </div>
          </td>
          <td>
                <code>25</code>
          </td>
        </tr>
        <tr>
          <td><code>subplots</code></td>
          <td>
                <code>tuple</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of subplots, should be approx. one per sample.</p>
            </div>
          </td>
          <td>
                <code>(5, 5)</code>
          </td>
        </tr>
        <tr>
          <td><code>plotsize</code></td>
          <td>
                <code>tuple</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of generated plot.</p>
            </div>
          </td>
          <td>
                <code>(20, 10)</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Fig</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.axes">axes</span>.<span title="matplotlib.axes.Axes">Axes</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib axes2d of detrended vs original data.</p>
            </div>
          </td>
        </tr>
        <tr>
<td><code>Axes</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.axes">axes</span>.<span title="matplotlib.axes.Axes">Axes</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib figure of detrended vs original data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_detrended</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to plot detrended vs original data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        n_samples (int): Number of tracks to plot.</span>
<span class="sd">        subplots (tuple): Number of subplots, should be approx. one per sample.</span>
<span class="sd">        plotsize (tuple): Size of generated plot.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Fig (matplotlib.axes.Axes): Matplotlib axes2d of detrended vs original data.</span>
<span class="sd">        Axes (matplotlib.axes.Axes): Matplotlib figure of detrended vs original data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">n_samples</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">vals</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="n">ncols</span> <span class="o">=</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">nrows</span> <span class="o">=</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes2d</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">plotsize</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">grouped</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">axes2d</span><span class="o">.</span><span class="n">flatten</span><span class="p">()):</span>
        <span class="n">grouped</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrended</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

    <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes2d</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.statsPlots" class="doc doc-heading">
          <code>statsPlots</code>


<a href="#arcos4py.plotting.statsPlots" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Plot data generated by the stats module.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS stats data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">statsPlots</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot data generated by the stats module.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (DataFrame): containing ARCOS stats data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot detrended vs original data.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): containing ARCOS stats data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">plot_events_duration</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_size</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">point_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">Axes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scatterplot of collective event duration.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            total_size (str): name of total size column.</span>
<span class="sd">            duration (str):, name of column with collective event duration.</span>
<span class="sd">            point_size (int): scatterplot point size.</span>
<span class="sd">            *args (Any): Arguments passed on to seaborn scatterplot function.</span>
<span class="sd">            **kwargs (Any): Keyword arguments passed on to seaborn scatterplot function.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Axes (matplotlib.axes.Axes): Matplotlib Axes object of scatterplot</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">total_size</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">duration</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">point_size</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.statsPlots.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.statsPlots.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Plot detrended vs original data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing ARCOS stats data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot detrended vs original data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): containing ARCOS stats data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.plotting._plotting.statsPlots.plot_events_duration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_events_duration</span><span class="p">(</span><span class="n">total_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">point_size</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting._plotting.statsPlots.plot_events_duration" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Scatterplot of collective event duration.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>total_size</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>name of total size column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>duration</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>, name of column with collective event duration.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>point_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>scatterplot point size.</p>
            </div>
          </td>
          <td>
                <code>40</code>
          </td>
        </tr>
        <tr>
          <td><code>*args</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arguments passed on to seaborn scatterplot function.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code>Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Keyword arguments passed on to seaborn scatterplot function.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Axes</code></td>          <td>
                <code>matplotlib.<span title="matplotlib.axes">axes</span>.<span title="matplotlib.axes.Axes">Axes</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Matplotlib Axes object of scatterplot</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_events_duration</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">total_size</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">point_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">Axes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scatterplot of collective event duration.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        total_size (str): name of total size column.</span>
<span class="sd">        duration (str):, name of column with collective event duration.</span>
<span class="sd">        point_size (int): scatterplot point size.</span>
<span class="sd">        *args (Any): Arguments passed on to seaborn scatterplot function.</span>
<span class="sd">        **kwargs (Any): Keyword arguments passed on to seaborn scatterplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Axes (matplotlib.axes.Axes): Matplotlib Axes object of scatterplot</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">total_size</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">duration</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">point_size</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="arcos4py.tools" class="doc doc-heading">
            <code>tools</code>


<a href="#arcos4py.tools" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents ">
  
      <p>Tools for detecting collective events.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.binData" class="doc doc-heading">
          <code>binData</code>


<a href="#arcos4py.tools.binData" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="arcos4py.tools._binarize_detrend.detrender">detrender</span></code></p>

  
      <p>Smooth, de-trend, and binarise the input data.</p>
<p>First a short-term median filter with size smoothK
is applied to remove fast noise from the time series.
If the de-trending method is set to "none",
smoothing is applied on globally rescaled time series.
The subsequent de-trending can be performed with a long-term median filter
with the size biasK {biasMet = "runmed"}
or by fitting a polynomial of degree polyDeg {biasMet = "lm"}.</p>
<p>After de-trending,
if the global difference between min/max is greater than the threshold
the signal is rescaled to the (0,1) range.
The final signal is binarised using the binThr threshold.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>smoothK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the short-term median smoothing filter.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>biasK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the long-term de-trending median filter.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>peakThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for rescaling of the de-trended signal.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>binThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for binarizing the de-trended signal.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>polyDeg</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Sets the degree of the polynomial for lm fitting.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>biasMet</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>De-trending method, one of ['runmed', 'lm', 'none'].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_binarize_detrend.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">binData</span><span class="p">(</span><span class="n">detrender</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">    First a short-term median filter with size smoothK</span>
<span class="sd">    is applied to remove fast noise from the time series.</span>
<span class="sd">    If the de-trending method is set to &quot;none&quot;,</span>
<span class="sd">    smoothing is applied on globally rescaled time series.</span>
<span class="sd">    The subsequent de-trending can be performed with a long-term median filter</span>
<span class="sd">    with the size biasK {biasMet = &quot;runmed&quot;}</span>
<span class="sd">    or by fitting a polynomial of degree polyDeg {biasMet = &quot;lm&quot;}.</span>

<span class="sd">    After de-trending,</span>
<span class="sd">    if the global difference between min/max is greater than the threshold</span>
<span class="sd">    the signal is rescaled to the (0,1) range.</span>
<span class="sd">    The final signal is binarised using the binThr threshold.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        smoothK (int): Size of the short-term median smoothing filter.</span>
<span class="sd">        biasK (int): Size of the long-term de-trending median filter.</span>
<span class="sd">        peakThr (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">        binThr (float): Threshold for binarizing the de-trended signal.</span>
<span class="sd">        polyDeg (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">        biasMet (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
        <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
        <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            smoothK (int): Size of the short-term median smoothing filter.</span>
<span class="sd">            biasK (int): Size of the long-term de-trending median filter.</span>
<span class="sd">            peakThr (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">            binThr (float): Threshold for binarizing the de-trended signal.</span>
<span class="sd">            polyDeg (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">            biasMet (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">            n_jobs (int): Number of jobs to run in parallel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">smoothK</span><span class="p">,</span> <span class="n">biasK</span><span class="p">,</span> <span class="n">peakThr</span><span class="p">,</span> <span class="n">polyDeg</span><span class="p">,</span> <span class="n">biasMet</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">binThr</span> <span class="o">=</span> <span class="n">binThr</span>

    <span class="k">def</span> <span class="nf">_rescale_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">meas_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">feat_range</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rescale data to a given range.&quot;&quot;&quot;</span>
        <span class="n">meas_array</span> <span class="o">=</span> <span class="n">x</span><span class="p">[:,</span> <span class="n">meas_index</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
        <span class="n">rescaled</span> <span class="o">=</span> <span class="n">minmax_scale</span><span class="p">(</span><span class="n">meas_array</span><span class="p">,</span> <span class="n">feature_range</span><span class="o">=</span><span class="n">feat_range</span><span class="p">)</span>
        <span class="n">x</span><span class="p">[:,</span> <span class="n">meas_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">rescaled</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">_bin_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="nb">bin</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">binThr</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int_</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bin</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs binarization and detrending.</span>

<span class="sd">        If the bias Method is &#39;none&#39;, first it rescales the data to between [0,1], then</span>
<span class="sd">        local smoothing is applied to the measurement by groups, followed by</span>
<span class="sd">        binarization.</span>

<span class="sd">        If biasMeth is one of [&#39;lm&#39;, &#39;runmed&#39;], first the data is detrended locally with a</span>
<span class="sd">        median filter and then detrended globally, for &#39;lm&#39; with a linear model and for &#39;runmed&#39; with a</span>
<span class="sd">        median filter.</span>
<span class="sd">        Followed by binarization of the data.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            x (DataFrame): The time-series data for smoothing, detrending and binarization.</span>
<span class="sd">            colGroup (str | None): Object id column in x. Detrending and rescaling is performed on a per-object basis.</span>
<span class="sd">                If None, no detrending is performed, only rescaling and bias method is ignored.</span>
<span class="sd">            colMeas (str): Measurement column in x on which detrending and rescaling is performed.</span>
<span class="sd">            colFrame (str): Frame column in Time-series data. Used for sorting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Dataframe containing binarized data, rescaled data and the original columns.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">colGroup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_without_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_with_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_without_groupcol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">):</span>
        <span class="n">col_resc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">colMeas</span><span class="si">}</span><span class="s2">.resc&quot;</span>
        <span class="n">col_bin</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">colMeas</span><span class="si">}</span><span class="s2">.bin&quot;</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">colMeas</span><span class="p">]</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">colFrame</span><span class="p">)</span>
        <span class="n">data_np</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">biasMet</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
            <span class="n">rescaled_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rescale_data</span><span class="p">(</span><span class="n">data_np</span><span class="p">,</span> <span class="n">meas_index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">binarized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bin_data</span><span class="p">(</span><span class="n">rescaled_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;No detrending is performed, only rescaling. To run detrending, set colGroup.&quot;</span><span class="p">)</span>
            <span class="n">rescaled_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rescale_data</span><span class="p">(</span><span class="n">data_np</span><span class="p">,</span> <span class="n">meas_index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">binarized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bin_data</span><span class="p">(</span><span class="n">rescaled_data</span><span class="p">)</span>

        <span class="n">x</span><span class="p">[</span><span class="n">col_resc</span><span class="p">]</span> <span class="o">=</span> <span class="n">rescaled_data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">x</span><span class="p">[</span><span class="n">col_bin</span><span class="p">]</span> <span class="o">=</span> <span class="n">binarized_data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">_run_with_groupcol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">):</span>
        <span class="n">col_resc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">colMeas</span><span class="si">}</span><span class="s2">.resc&quot;</span>
        <span class="n">col_bin</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">colMeas</span><span class="si">}</span><span class="s2">.bin&quot;</span>
        <span class="n">col_fact</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">colGroup</span><span class="si">}</span><span class="s1">_factorized&#39;</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_fact</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">]</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="n">colGroup</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">])</span>
        <span class="c1"># factorize column in order to prevent numpy grouping error in detrending</span>
        <span class="n">value</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">colGroup</span><span class="p">]</span><span class="o">.</span><span class="n">factorize</span><span class="p">()</span>
        <span class="n">x</span><span class="p">[</span><span class="n">col_fact</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">data_np</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">biasMet</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
            <span class="n">rescaled_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rescale_data</span><span class="p">(</span><span class="n">data_np</span><span class="p">,</span> <span class="n">meas_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">detrended_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="p">(</span><span class="n">rescaled_data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">binarized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bin_data</span><span class="p">(</span><span class="n">detrended_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">detrended_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="p">(</span><span class="n">data_np</span><span class="p">,</span> <span class="n">group_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">meas_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">binarized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bin_data</span><span class="p">(</span><span class="n">detrended_data</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="n">col_fact</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">x</span><span class="p">[</span><span class="n">col_resc</span><span class="p">]</span> <span class="o">=</span> <span class="n">detrended_data</span>
        <span class="n">x</span><span class="p">[</span><span class="n">col_bin</span><span class="p">]</span> <span class="o">=</span> <span class="n">binarized_data</span>
        <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._binarize_detrend.binData.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">smoothK</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">biasK</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peakThr</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binThr</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polyDeg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">biasMet</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

<a href="#arcos4py.tools._binarize_detrend.binData.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Smooth, de-trend, and binarise the input data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>smoothK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the short-term median smoothing filter.</p>
            </div>
          </td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>biasK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the long-term de-trending median filter.</p>
            </div>
          </td>
          <td>
                <code>51</code>
          </td>
        </tr>
        <tr>
          <td><code>peakThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for rescaling of the de-trended signal.</p>
            </div>
          </td>
          <td>
                <code>0.2</code>
          </td>
        </tr>
        <tr>
          <td><code>binThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for binarizing the de-trended signal.</p>
            </div>
          </td>
          <td>
                <code>0.1</code>
          </td>
        </tr>
        <tr>
          <td><code>polyDeg</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Sets the degree of the polynomial for lm fitting.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>biasMet</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>De-trending method, one of ['runmed', 'lm', 'none'].</p>
            </div>
          </td>
          <td>
                <code>&#39;runmed&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>n_jobs</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of jobs to run in parallel.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_binarize_detrend.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        smoothK (int): Size of the short-term median smoothing filter.</span>
<span class="sd">        biasK (int): Size of the long-term de-trending median filter.</span>
<span class="sd">        peakThr (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">        binThr (float): Threshold for binarizing the de-trended signal.</span>
<span class="sd">        polyDeg (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">        biasMet (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">smoothK</span><span class="p">,</span> <span class="n">biasK</span><span class="p">,</span> <span class="n">peakThr</span><span class="p">,</span> <span class="n">polyDeg</span><span class="p">,</span> <span class="n">biasMet</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">binThr</span> <span class="o">=</span> <span class="n">binThr</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._binarize_detrend.binData.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">)</span></code>

<a href="#arcos4py.tools._binarize_detrend.binData.run" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Runs binarization and detrending.</p>
<p>If the bias Method is 'none', first it rescales the data to between [0,1], then
local smoothing is applied to the measurement by groups, followed by
binarization.</p>
<p>If biasMeth is one of ['lm', 'runmed'], first the data is detrended locally with a
median filter and then detrended globally, for 'lm' with a linear model and for 'runmed' with a
median filter.
Followed by binarization of the data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>x</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The time-series data for smoothing, detrending and binarization.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>colGroup</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Object id column in x. Detrending and rescaling is performed on a per-object basis.
If None, no detrending is performed, only rescaling and bias method is ignored.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>colMeas</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Measurement column in x on which detrending and rescaling is performed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>colFrame</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Frame column in Time-series data. Used for sorting.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe containing binarized data, rescaled data and the original columns.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_binarize_detrend.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs binarization and detrending.</span>

<span class="sd">    If the bias Method is &#39;none&#39;, first it rescales the data to between [0,1], then</span>
<span class="sd">    local smoothing is applied to the measurement by groups, followed by</span>
<span class="sd">    binarization.</span>

<span class="sd">    If biasMeth is one of [&#39;lm&#39;, &#39;runmed&#39;], first the data is detrended locally with a</span>
<span class="sd">    median filter and then detrended globally, for &#39;lm&#39; with a linear model and for &#39;runmed&#39; with a</span>
<span class="sd">    median filter.</span>
<span class="sd">    Followed by binarization of the data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (DataFrame): The time-series data for smoothing, detrending and binarization.</span>
<span class="sd">        colGroup (str | None): Object id column in x. Detrending and rescaling is performed on a per-object basis.</span>
<span class="sd">            If None, no detrending is performed, only rescaling and bias method is ignored.</span>
<span class="sd">        colMeas (str): Measurement column in x on which detrending and rescaling is performed.</span>
<span class="sd">        colFrame (str): Frame column in Time-series data. Used for sorting.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Dataframe containing binarized data, rescaled data and the original columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">colGroup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_without_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_with_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">colGroup</span><span class="p">,</span> <span class="n">colMeas</span><span class="p">,</span> <span class="n">colFrame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.calcCollevStats" class="doc doc-heading">
          <code>calcCollevStats</code>


<a href="#arcos4py.tools.calcCollevStats" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Class to calculate statistics of collective events.</p>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">calcCollevStats</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to calculate statistics of collective events.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Class to calculate statistics of collective events.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_calculate_stats_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates duration and size for the collective event in the dataframe.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (np.ndarray): Containing a single collective event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            np.ndarray: Array containing the collective event id, duration, tot_size, min_size,</span>
<span class="sd">                max_size, &quot;nd_frame, first_frame_centroid and last_frame_centroid</span>
<span class="sd">                of the current collective event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">coll_dur</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">coll_total_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">size</span>
        <span class="p">(</span><span class="n">unique</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">frequencies</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">((</span><span class="n">unique</span><span class="p">,</span> <span class="n">counts</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
        <span class="n">coll_min_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">coll_max_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">coll_start_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="n">coll_end_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">coll_start_coord</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">coll_start_frame</span><span class="p">)][:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">coll_end_coord</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">coll_end_frame</span><span class="p">)][:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">coll_start_coord</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            <span class="n">coll_end_coord</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                <span class="n">coll_dur</span><span class="p">,</span>
                <span class="n">coll_total_size</span><span class="p">,</span>
                <span class="n">coll_min_size</span><span class="p">,</span>
                <span class="n">coll_max_size</span><span class="p">,</span>
                <span class="n">coll_start_frame</span><span class="p">,</span>
                <span class="n">coll_end_frame</span><span class="p">,</span>
                <span class="n">coll_start_coord</span><span class="p">,</span>
                <span class="n">coll_end_coord</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="k">def</span> <span class="nf">_get_collev_stats</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">collev_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posCol</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies self._calculate_duration_size_group() to every group\</span>
<span class="sd">        i.e. every collective event.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): Containing unfiltered collective events.</span>
<span class="sd">            collev_id (str): Indicating the contained collective id column.</span>
<span class="sd">            frame_column (str): Indicating the contained frame column.</span>
<span class="sd">            obj_id_column (str): Indicating object id.</span>
<span class="sd">            posCol (list | None): Contains names of position columns. If None coordinates of</span>
<span class="sd">                start and end frame are not calcualted</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: DataFrame containing &quot;collid&quot;, &quot;duration&quot;, &quot;total_size&quot;,</span>
<span class="sd">                &quot;min_size&quot;,&quot;max_size&quot;, &quot;start_frame&quot;, &quot;end_frame&quot;,</span>
<span class="sd">                &quot;first_frame_centroid&quot; and &quot;last_frame_centroid&quot;</span>
<span class="sd">                of all collective events.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">collev_id</span><span class="p">,</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;min_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start_frame&quot;</span><span class="p">,</span>
            <span class="s2">&quot;end_frame&quot;</span><span class="p">,</span>
            <span class="s2">&quot;first_frame_centroid&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_frame_centroid&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">})</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">collev_id</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">posCol</span><span class="p">:</span>
            <span class="n">subset</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">posCol</span><span class="p">)</span>
        <span class="c1"># if object id cannot be converted to a float, generate unique labels with pd.factorize</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data_np</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">subset</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">obj_id_column</span><span class="p">])</span>
            <span class="n">new_obj_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">obj_id_column</span><span class="si">}</span><span class="s1">_labels&#39;</span>
            <span class="n">data</span><span class="p">[</span><span class="n">new_obj_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">labels</span>
            <span class="n">subset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_obj_id</span>
            <span class="n">data_np</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">subset</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>

        <span class="n">data_np</span> <span class="o">=</span> <span class="n">data_np</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data_np</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
        <span class="n">data_np_sorted</span> <span class="o">=</span> <span class="n">data_np</span><span class="p">[</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">argsort</span><span class="p">()]</span>
        <span class="n">grouped_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">data_np_sorted</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data_np_sorted</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
        <span class="c1"># map to grouped_array</span>
        <span class="n">out</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_calculate_stats_group</span><span class="p">,</span> <span class="n">grouped_array</span><span class="p">)</span>
        <span class="n">out_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">out</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">out_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">posCol</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate statistics of collective events.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): Containing collective events.</span>
<span class="sd">            frame_column (str): Indicating the frame column in data.</span>
<span class="sd">            collid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">            obj_id_column (str): Indicating object id.</span>
<span class="sd">            posCol (list | None): Contains names of position columns. If None coordinates of</span>
<span class="sd">                start and end frame are not calcualted</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: DataFrame containing &quot;collid&quot;, &quot;duration&quot;, &quot;total_size&quot;,</span>
<span class="sd">                &quot;min_size&quot;,&quot;max_size&quot;, &quot;start_frame&quot;, &quot;end_frame&quot;,</span>
<span class="sd">                &quot;first_frame_centroid&quot; and &quot;last_frame_centroid&quot;</span>
<span class="sd">                of all collective events.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">colev_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_collev_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">collid_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">posCol</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">colev_stats</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._stats.calcCollevStats.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

<a href="#arcos4py.tools._stats.calcCollevStats.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Class to calculate statistics of collective events.</p>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to calculate statistics of collective events.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._stats.calcCollevStats.calculate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">collid_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">posCol</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#arcos4py.tools._stats.calcCollevStats.calculate" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Calculate statistics of collective events.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Containing collective events.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>collid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the collective event id column in data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>obj_id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating object id.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posCol</code></td>
          <td>
                <code>list | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Contains names of position columns. If None coordinates of
start and end frame are not calcualted</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing "collid", "duration", "total_size",
"min_size","max_size", "start_frame", "end_frame",
"first_frame_centroid" and "last_frame_centroid"
of all collective events.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">posCol</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate statistics of collective events.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): Containing collective events.</span>
<span class="sd">        frame_column (str): Indicating the frame column in data.</span>
<span class="sd">        collid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">        obj_id_column (str): Indicating object id.</span>
<span class="sd">        posCol (list | None): Contains names of position columns. If None coordinates of</span>
<span class="sd">            start and end frame are not calcualted</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: DataFrame containing &quot;collid&quot;, &quot;duration&quot;, &quot;total_size&quot;,</span>
<span class="sd">            &quot;min_size&quot;,&quot;max_size&quot;, &quot;start_frame&quot;, &quot;end_frame&quot;,</span>
<span class="sd">            &quot;first_frame_centroid&quot; and &quot;last_frame_centroid&quot;</span>
<span class="sd">            of all collective events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">colev_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_collev_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">collid_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">posCol</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">colev_stats</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.clipMeas" class="doc doc-heading">
          <code>clipMeas</code>


<a href="#arcos4py.tools.clipMeas" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Clip input array.</p>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">clipMeas</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip input array.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clips array to quantilles.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (ndarray): To be clipped.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">_calculate_percentile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate upper and lower quantille.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (ndarray): To calculate upper and lower quantile on.</span>
<span class="sd">            clip_low (float): Lower clipping boundary (quantile).</span>
<span class="sd">            clip_high (float): Upper clipping boundry (quantille).</span>

<span class="sd">        Returns:</span>
<span class="sd">            np.ndarray: Array with lower quantile and array with upper quantile.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">quantille_low</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">quantille_high</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">quantille_low</span><span class="p">,</span> <span class="n">quantille_high</span>

    <span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clip input array to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            clip_low (float): Lower clipping boundary (quantile).</span>
<span class="sd">            clip_high (float): Upper clipping boundry (quantille).</span>

<span class="sd">        Returns:</span>
<span class="sd">            np.ndarray (np.ndarray): A clipped array of the input data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_percentile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._cleandata.clipMeas.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.tools._cleandata.clipMeas.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Clips array to quantilles.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>ndarray</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>To be clipped.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clips array to quantilles.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (ndarray): To be clipped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._cleandata.clipMeas.clip" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clip</span><span class="p">(</span><span class="n">clip_low</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="o">=</span><span class="mf">0.999</span><span class="p">)</span></code>

<a href="#arcos4py.tools._cleandata.clipMeas.clip" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Clip input array to upper and lower quantiles defined in clip_low and clip_high.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>clip_low</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Lower clipping boundary (quantile).</p>
            </div>
          </td>
          <td>
                <code>0.001</code>
          </td>
        </tr>
        <tr>
          <td><code>clip_high</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Upper clipping boundry (quantille).</p>
            </div>
          </td>
          <td>
                <code>0.999</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="numpy">np</span>.<span title="numpy.ndarray">ndarray</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>np.ndarray (np.ndarray): A clipped array of the input data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip input array to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        clip_low (float): Lower clipping boundary (quantile).</span>
<span class="sd">        clip_high (float): Upper clipping boundry (quantille).</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray (np.ndarray): A clipped array of the input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_percentile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.detectCollev" class="doc doc-heading">
          <code>detectCollev</code>


<a href="#arcos4py.tools.detectCollev" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Class to detect collective events.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>input_data</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span>, <span title="numpy">np</span>.<span title="numpy.ndarray">ndarray</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The input data to track.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance for clustering, default is 1.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[float, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance for linking previous clusters, if None, eps is used.
Default is None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>minClSz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum cluster size. Default is 3.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames to consider. Default is 1.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of column names for the position columns. Default is ["x"].</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the frame number. Default is 'time'.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the id. Default is None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>bin_meas_column</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the binary measurement. Default is 'meas'.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>clid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the cluster id. Default is 'clTrackID'.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>dims</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>String of dimensions in order, such as. Default is "TXY". Possible values are "T", "X", "Y", "Z".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>min_samples</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of samples (or total weight) in a neighbourhood for a
    point to be considered as a core point. This includes the point itself.
    Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>linkingMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for linking. Default is 'nearest'.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>n_jobs</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of jobs to run in parallel. Default is 1.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>predictor</code></td>
          <td>
                <code>bool | <span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to show progress bar. Default is True.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">detectCollev</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to detect collective events.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        input_data (Union[pd.DataFrame, np.ndarray]): The input data to track.</span>
<span class="sd">        eps (float): Maximum distance for clustering, default is 1.</span>
<span class="sd">        epsPrev (Union[float, None]): Maximum distance for linking previous clusters, if None, eps is used.</span>
<span class="sd">            Default is None.</span>
<span class="sd">        minClSz (int): Minimum cluster size. Default is 3.</span>
<span class="sd">        nPrev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        posCols (list): List of column names for the position columns. Default is [&quot;x&quot;].</span>
<span class="sd">        frame_column (str): Name of the column containing the frame number. Default is &#39;time&#39;.</span>
<span class="sd">        id_column (Union[str, None]): Name of the column containing the id. Default is None.</span>
<span class="sd">        bin_meas_column (Union[str, None]): Name of the column containing the binary measurement. Default is &#39;meas&#39;.</span>
<span class="sd">        clid_column (str): Name of the column containing the cluster id. Default is &#39;clTrackID&#39;.</span>
<span class="sd">        dims (str): String of dimensions in order, such as. Default is &quot;TXY&quot;. Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">                point to be considered as a core point. This includes the point itself.</span>
<span class="sd">                Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        linkingMethod (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">input_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span>
        <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">minClSz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
        <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
        <span class="n">id_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">bin_meas_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
        <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs class with input parameters.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            input_data (DataFrame): Input data to be processed. Must contain a binarized measurement column.</span>
<span class="sd">            eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">                the neighbourhood of the other.</span>
<span class="sd">                This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">            epsPrev (int | None): Frame to frame distance, value is used to connect</span>
<span class="sd">                collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">            minClSz (int): Minimum size for a cluster to be identified as a collective event.</span>
<span class="sd">            nPrev (int): Number of previous frames the tracking</span>
<span class="sd">                algorithm looks back to connect collective events.</span>
<span class="sd">            posCols (list): List of position columns contained in the data.</span>
<span class="sd">                Must at least contain one.</span>
<span class="sd">            frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">            id_column (str | None): Indicating the track id/id column in input_data, optional.</span>
<span class="sd">            bin_meas_column (str): Indicating the bin_meas_column in input_data or None.</span>
<span class="sd">            clid_column (str): Indicating the column name containing the ids of collective events.</span>
<span class="sd">            dims (str): String of dimensions in order, used if input_data is a numpy array. Default is &quot;TXY&quot;.</span>
<span class="sd">                Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">            method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">            min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">                point to be considered as a core point. This includes the point itself.</span>
<span class="sd">                Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">            linkingMethod (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">            n_jobs (int): Number of paralell workers to spawn, -1 uses all available cpus.</span>
<span class="sd">            predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">                True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">                See default predictor method for details.</span>
<span class="sd">            show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">input_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eps</span> <span class="o">=</span> <span class="n">eps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span> <span class="o">=</span> <span class="n">epsPrev</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span> <span class="o">=</span> <span class="n">minClSz</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span> <span class="o">=</span> <span class="n">nPrev</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">posCols</span> <span class="o">=</span> <span class="n">posCols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span> <span class="o">=</span> <span class="n">bin_meas_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dims</span> <span class="o">=</span> <span class="n">dims</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span> <span class="o">=</span> <span class="n">linkingMethod</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span> <span class="o">=</span> <span class="n">min_samples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">predictor</span> <span class="o">=</span> <span class="n">predictor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span> <span class="o">=</span> <span class="n">show_progress</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;This class is deprecated and will be removed a future release, use the track_events_dataframe or track_events_image functions directly.&quot;</span><span class="p">,</span>  <span class="c1"># noqa: E501</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the collective event detection algorithm.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            copy (bool): Whether or not to copy the input data. Default is True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Input data with added collective event ids.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
                <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
                <span class="n">coordinates_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">posCols</span><span class="p">,</span>
                <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
                <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span>
                <span class="n">bin_meas_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span><span class="p">,</span>
                <span class="n">collid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">epsPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
                <span class="n">minClSz</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
                <span class="n">minSamples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
                <span class="n">clusteringMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
                <span class="n">linkingMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
                <span class="n">nPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
                <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
                <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
                <span class="n">showProgress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">track_events_image</span><span class="p">(</span>
                <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">epsPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
                <span class="n">minClSz</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
                <span class="n">minSamples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
                <span class="n">clusteringMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
                <span class="n">nPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
                <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
                <span class="n">linkingMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
                <span class="n">dims</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dims</span><span class="p">,</span>
                <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
                <span class="n">showProgress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._detect_events.detectCollev.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">posCols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bin_meas_column</span><span class="o">=</span><span class="s1">&#39;meas&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools._detect_events.detectCollev.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Constructs class with input parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>input_data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input data to be processed. Must contain a binarized measurement column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.
This is not a maximum bound on the distances of points within a cluster.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Frame to frame distance, value is used to connect
collective events across multiple frames.If "None", same value as eps is used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClSz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum size for a cluster to be identified as a collective event.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames the tracking
algorithm looks back to connect collective events.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of position columns contained in the data.
Must at least contain one.</p>
            </div>
          </td>
          <td>
                <code>[&#39;x&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in input_data.</p>
            </div>
          </td>
          <td>
                <code>&#39;time&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the track id/id column in input_data, optional.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>bin_meas_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the bin_meas_column in input_data or None.</p>
            </div>
          </td>
          <td>
                <code>&#39;meas&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>clid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the column name containing the ids of collective events.</p>
            </div>
          </td>
          <td>
                <code>&#39;clTrackID&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>dims</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>String of dimensions in order, used if input_data is a numpy array. Default is "TXY".
Possible values are "T", "X", "Y", "Z".</p>
            </div>
          </td>
          <td>
                <code>&#39;TXY&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
            </div>
          </td>
          <td>
                <code>&#39;dbscan&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>min_samples</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>linkingMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for linking. Default is 'nearest'.</p>
            </div>
          </td>
          <td>
                <code>&#39;nearest&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>n_jobs</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of paralell workers to spawn, -1 uses all available cpus.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>predictor</code></td>
          <td>
                <code>bool | <span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to show progress bar. Default is True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">input_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClSz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">bin_meas_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
    <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with input parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        input_data (DataFrame): Input data to be processed. Must contain a binarized measurement column.</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">            This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">        epsPrev (int | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        minClSz (int): Minimum size for a cluster to be identified as a collective event.</span>
<span class="sd">        nPrev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events.</span>
<span class="sd">        posCols (list): List of position columns contained in the data.</span>
<span class="sd">            Must at least contain one.</span>
<span class="sd">        frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">        id_column (str | None): Indicating the track id/id column in input_data, optional.</span>
<span class="sd">        bin_meas_column (str): Indicating the bin_meas_column in input_data or None.</span>
<span class="sd">        clid_column (str): Indicating the column name containing the ids of collective events.</span>
<span class="sd">        dims (str): String of dimensions in order, used if input_data is a numpy array. Default is &quot;TXY&quot;.</span>
<span class="sd">            Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        linkingMethod (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        n_jobs (int): Number of paralell workers to spawn, -1 uses all available cpus.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">input_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">eps</span> <span class="o">=</span> <span class="n">eps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span> <span class="o">=</span> <span class="n">epsPrev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span> <span class="o">=</span> <span class="n">minClSz</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span> <span class="o">=</span> <span class="n">nPrev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posCols</span> <span class="o">=</span> <span class="n">posCols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span> <span class="o">=</span> <span class="n">bin_meas_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dims</span> <span class="o">=</span> <span class="n">dims</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span> <span class="o">=</span> <span class="n">linkingMethod</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span> <span class="o">=</span> <span class="n">min_samples</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">predictor</span> <span class="o">=</span> <span class="n">predictor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span> <span class="o">=</span> <span class="n">show_progress</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;This class is deprecated and will be removed a future release, use the track_events_dataframe or track_events_image functions directly.&quot;</span><span class="p">,</span>  <span class="c1"># noqa: E501</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._detect_events.detectCollev.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools._detect_events.detectCollev.run" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Runs the collective event detection algorithm.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>copy</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to copy the input data. Default is True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input data with added collective event ids.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the collective event detection algorithm.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        copy (bool): Whether or not to copy the input data. Default is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Input data with added collective event ids.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
            <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
            <span class="n">coordinates_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">posCols</span><span class="p">,</span>
            <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
            <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span>
            <span class="n">bin_meas_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span><span class="p">,</span>
            <span class="n">collid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
            <span class="n">epsPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
            <span class="n">minClSz</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
            <span class="n">minSamples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
            <span class="n">clusteringMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
            <span class="n">linkingMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
            <span class="n">nPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
            <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
            <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
            <span class="n">showProgress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">track_events_image</span><span class="p">(</span>
            <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
            <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
            <span class="n">epsPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
            <span class="n">minClSz</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
            <span class="n">minSamples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
            <span class="n">clusteringMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
            <span class="n">nPrev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
            <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
            <span class="n">linkingMethod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
            <span class="n">dims</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dims</span><span class="p">,</span>
            <span class="n">nJobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
            <span class="n">showProgress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.filterCollev" class="doc doc-heading">
          <code>filterCollev</code>


<a href="#arcos4py.tools.filterCollev" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Select Collective events that last longer than coll_duration    and have a larger total size than coll_total_size.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>With detected collective events.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>collid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the collective event id column in data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>obj_id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Inidicating the object identifier column such as cell track id.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_filter_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">filterCollev</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Select Collective events that last longer than coll_duration\</span>
<span class="sd">    and have a larger total size than coll_total_size.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (Dataframe): With detected collective events.</span>
<span class="sd">        frame_column (str): Indicating the frame column in data.</span>
<span class="sd">        collid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">        obj_id_column (str): Inidicating the object identifier column such as cell track id.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
        <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;trackID&quot;</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs filterCollev class with Parameters.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (Dataframe): With detected collective events.</span>
<span class="sd">            frame_column (str): Indicating the frame column in data.</span>
<span class="sd">            collid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">            obj_id_column (str): Inidicating the object identifier column such as cell track id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span> <span class="o">=</span> <span class="n">collid_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>

    <span class="k">def</span> <span class="nf">_filter_collev</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">collev_stats</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">collev_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Uses the dataframe generated by self._get_collev_duration()\</span>
<span class="sd">        to filter collective events that last longer than\</span>
<span class="sd">        min_duration and are larger than min_size.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): Containing unfiltered collective events.</span>
<span class="sd">            collev_stats (DataFrame): Containing stats of collective events.</span>
<span class="sd">            collev_id (str): Indicating the contained collective id column.</span>
<span class="sd">            min_duration (str): minimal duration of a collective event for it to be returned.</span>
<span class="sd">            min_size (int): minimal size for a collective event to be returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame (DataFrame): Dataframe containing filtered collective events.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">collev_stats</span> <span class="o">=</span> <span class="n">collev_stats</span><span class="p">[</span>
            <span class="p">(</span><span class="n">collev_stats</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_duration</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">collev_stats</span><span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_size</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">collev_id</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">collev_stats</span><span class="p">[</span><span class="n">collev_id</span><span class="p">])]</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coll_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">coll_total_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Filter collective events.</span>

<span class="sd">        Method to filter collective events according to the</span>
<span class="sd">        parameters specified in the object instance.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            coll_duration (int): Minimal duration of collective events to be selected.</span>
<span class="sd">            coll_total_size (int): Minimal total size of collective events to be selected.</span>

<span class="sd">        Returns:</span>
<span class="sd">             Returns pandas dataframe containing filtered collective events</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">calcCollevStats</span><span class="p">()</span>
        <span class="n">colev_duration</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">)</span>

        <span class="n">filtered_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_collev</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">colev_duration</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span><span class="p">,</span>
            <span class="n">coll_duration</span><span class="p">,</span>
            <span class="n">coll_total_size</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">filtered_df</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._filter_events.filterCollev.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">collid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;trackID&#39;</span><span class="p">)</span></code>

<a href="#arcos4py.tools._filter_events.filterCollev.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Constructs filterCollev class with Parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>Dataframe</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>With detected collective events.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the frame column in data.</p>
            </div>
          </td>
          <td>
                <code>&#39;time&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>collid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Indicating the collective event id column in data.</p>
            </div>
          </td>
          <td>
                <code>&#39;collid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>obj_id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Inidicating the object identifier column such as cell track id.</p>
            </div>
          </td>
          <td>
                <code>&#39;trackID&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_filter_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
    <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;trackID&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs filterCollev class with Parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (Dataframe): With detected collective events.</span>
<span class="sd">        frame_column (str): Indicating the frame column in data.</span>
<span class="sd">        collid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">        obj_id_column (str): Inidicating the object identifier column such as cell track id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span> <span class="o">=</span> <span class="n">collid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._filter_events.filterCollev.filter" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">filter</span><span class="p">(</span><span class="n">coll_duration</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">coll_total_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

<a href="#arcos4py.tools._filter_events.filterCollev.filter" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Filter collective events.</p>
<p>Method to filter collective events according to the
parameters specified in the object instance.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coll_duration</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimal duration of collective events to be selected.</p>
            </div>
          </td>
          <td>
                <code>9</code>
          </td>
        </tr>
        <tr>
          <td><code>coll_total_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimal total size of collective events to be selected.</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Returns pandas dataframe containing filtered collective events</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_filter_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coll_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">coll_total_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter collective events.</span>

<span class="sd">    Method to filter collective events according to the</span>
<span class="sd">    parameters specified in the object instance.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        coll_duration (int): Minimal duration of collective events to be selected.</span>
<span class="sd">        coll_total_size (int): Minimal total size of collective events to be selected.</span>

<span class="sd">    Returns:</span>
<span class="sd">         Returns pandas dataframe containing filtered collective events</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">calcCollevStats</span><span class="p">()</span>
    <span class="n">colev_duration</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">)</span>

    <span class="n">filtered_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_collev</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">colev_duration</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collid_column</span><span class="p">,</span>
        <span class="n">coll_duration</span><span class="p">,</span>
        <span class="n">coll_total_size</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">filtered_df</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.interpolation" class="doc doc-heading">
          <code>interpolation</code>


<a href="#arcos4py.tools.interpolation" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Interpolate nan values in a numpy array.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Where NaN should be replaced with interpolated values.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">interpolation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolate nan values in a numpy array.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (DataFrame): Where NaN should be replaced with interpolated values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Interpolate nan values in a pandas dataframe.</span>

<span class="sd">        Uses pandas.interpolate with liner interpolation.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data (DataFrame): Where NaN should be replaced with interpolated values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Interpolate nan and missing values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Interpolated input data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._cleandata.interpolation.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.tools._cleandata.interpolation.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Interpolate nan values in a pandas dataframe.</p>
<p>Uses pandas.interpolate with liner interpolation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Where NaN should be replaced with interpolated values.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolate nan values in a pandas dataframe.</span>

<span class="sd">    Uses pandas.interpolate with liner interpolation.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): Where NaN should be replaced with interpolated values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="arcos4py.tools._cleandata.interpolation.interpolate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">interpolate</span><span class="p">()</span></code>

<a href="#arcos4py.tools._cleandata.interpolation.interpolate" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Interpolate nan and missing values.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Interpolated input data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolate nan and missing values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Interpolated input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">



<h3 id="arcos4py.tools.estimate_eps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">estimate_eps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span> <span class="n">pos_cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span> <span class="n">frame_col</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plt_size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">max_samples</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.estimate_eps" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Estimates eps parameter in DBSCAN.</p>
<p>Estimates the eps parameter for the DBSCAN clustering method, as used by ARCOS,
by calculating the nearest neighbour distances for each point in the data.
N_neighbours should be chosen to match the minimum point size in DBSCAN
or the minimum clustersize in detect_events respectively.
The method argument determines how the eps parameter is estimated.
'kneepoint' estimates the knee of the nearest neighbour distribution.
'mean' and 'median' return (by default) 1.5 times
the mean or median of the nearest neighbour distances respectively.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing the data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Method to use for estimating eps. Defaults to 'kneepoint'.
Can be one of ['kneepoint', 'mean', 'median'].'kneepoint' estimates the knee of the nearest neighbour
distribution to to estimate eps. 'mean' and 'median' use the 1.5 times the mean or median of the
nearest neighbour distances respectively.</p>
            </div>
          </td>
          <td>
                <code>&#39;kneepoint&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>pos_cols</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of column names containing the position data.</p>
            </div>
          </td>
          <td>
                <code>[&#39;x,y&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>frame_col</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the frame number. Defaults to 't'.</p>
            </div>
          </td>
          <td>
                <code>&#39;t&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>n_neighbors</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of nearest neighbours to consider. Defaults to 5.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>plot</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to plot the results. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>plt_size</code></td>
          <td>
                <code>tuple[int, int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Size of the plot. Defaults to (5, 5).</p>
            </div>
          </td>
          <td>
                <code>(5, 5)</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Keyword arguments for the method. Modify behaviour of respecitve method.
For kneepoint: [S online, curve, direction, interp_method,polynomial_degree; For mean: [mean_multiplier]
For median [median_multiplier]</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Eps</code></td>          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>eps parameter for DBSCAN.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">estimate_eps</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span>
    <span class="n">pos_cols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span>
    <span class="n">frame_col</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
    <span class="n">n_neighbors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">plt_size</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">max_samples</span><span class="o">=</span><span class="mi">50_000</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimates eps parameter in DBSCAN.</span>

<span class="sd">    Estimates the eps parameter for the DBSCAN clustering method, as used by ARCOS,</span>
<span class="sd">    by calculating the nearest neighbour distances for each point in the data.</span>
<span class="sd">    N_neighbours should be chosen to match the minimum point size in DBSCAN</span>
<span class="sd">    or the minimum clustersize in detect_events respectively.</span>
<span class="sd">    The method argument determines how the eps parameter is estimated.</span>
<span class="sd">    &#39;kneepoint&#39; estimates the knee of the nearest neighbour distribution.</span>
<span class="sd">    &#39;mean&#39; and &#39;median&#39; return (by default) 1.5 times</span>
<span class="sd">    the mean or median of the nearest neighbour distances respectively.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.DataFrame): DataFrame containing the data.</span>
<span class="sd">        method (str, optional): Method to use for estimating eps. Defaults to &#39;kneepoint&#39;.</span>
<span class="sd">            Can be one of [&#39;kneepoint&#39;, &#39;mean&#39;, &#39;median&#39;].&#39;kneepoint&#39; estimates the knee of the nearest neighbour</span>
<span class="sd">            distribution to to estimate eps. &#39;mean&#39; and &#39;median&#39; use the 1.5 times the mean or median of the</span>
<span class="sd">            nearest neighbour distances respectively.</span>
<span class="sd">        pos_cols (list[str]): List of column names containing the position data.</span>
<span class="sd">        frame_col (str, optional): Name of the column containing the frame number. Defaults to &#39;t&#39;.</span>
<span class="sd">        n_neighbors (int, optional): Number of nearest neighbours to consider. Defaults to 5.</span>
<span class="sd">        plot (bool, optional): Whether to plot the results. Defaults to True.</span>
<span class="sd">        plt_size (tuple[int, int], optional): Size of the plot. Defaults to (5, 5).</span>
<span class="sd">        kwargs: Keyword arguments for the method. Modify behaviour of respecitve method.</span>
<span class="sd">            For kneepoint: [S online, curve, direction, interp_method,polynomial_degree; For mean: [mean_multiplier]</span>
<span class="sd">            For median [median_multiplier]</span>

<span class="sd">    Returns:</span>
<span class="sd">        Eps (float): eps parameter for DBSCAN.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_col</span><span class="p">]</span> <span class="o">+</span> <span class="n">pos_cols</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">subset</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Column </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> not in data&quot;</span><span class="p">)</span>
    <span class="n">method_option</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">method_option</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Method must be one of </span><span class="si">{</span><span class="n">method_option</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">allowedtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;kneepoint&#39;</span><span class="p">:</span> <span class="s1">&#39;kneepoint_values&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="s1">&#39;mean_values&#39;</span><span class="p">,</span>
        <span class="s1">&#39;median&#39;</span><span class="p">:</span> <span class="s1">&#39;median_values&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">kwdefaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;online&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;curve&#39;</span><span class="p">:</span> <span class="s1">&#39;convex&#39;</span><span class="p">,</span>
        <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="s1">&#39;increasing&#39;</span><span class="p">,</span>
        <span class="s1">&#39;interp_method&#39;</span><span class="p">:</span> <span class="s1">&#39;polynomial&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mean_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s1">&#39;median_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">kwtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;online&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="s1">&#39;curve&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;interp_method&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;mean_multiplier&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>
        <span class="s1">&#39;median_multiplier&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="n">allowedkwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;kneepoint_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;online&#39;</span><span class="p">,</span> <span class="s1">&#39;curve&#39;</span><span class="p">,</span> <span class="s1">&#39;interp_method&#39;</span><span class="p">,</span> <span class="s1">&#39;direction&#39;</span><span class="p">,</span> <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">],</span>
        <span class="s1">&#39;mean_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mean_multiplier&#39;</span><span class="p">],</span>
        <span class="s1">&#39;median_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;median_multiplier&#39;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1"> keyword not in allowed keywords </span><span class="si">{</span><span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">kwtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1"> must be of type </span><span class="si">{</span><span class="n">kwtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Set kwarg defaults</span>
    <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]:</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">[</span><span class="n">kw</span><span class="p">])</span>

    <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_col</span><span class="p">]</span> <span class="o">+</span> <span class="n">pos_cols</span>
    <span class="n">data_np</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">subset</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="c1"># sort by frame</span>
    <span class="n">data_np</span> <span class="o">=</span> <span class="n">data_np</span><span class="p">[</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">argsort</span><span class="p">()]</span>
    <span class="n">grouped_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
    <span class="c1"># map nearest_neighbours to grouped_array</span>
    <span class="n">distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">_nearest_neighbour_eps</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">grouped_array</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span>
    <span class="c1"># flatten array</span>
    <span class="n">distances_flat</span> <span class="o">=</span> <span class="n">distances</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">distances_flat</span> <span class="o">=</span> <span class="n">distances_flat</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">distances_flat</span><span class="p">)]</span>
    <span class="n">distances_flat_selection</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
        <span class="n">distances_flat</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">max_samples</span><span class="p">,</span> <span class="n">distances_flat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">distances_sorted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">distances_flat_selection</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;kneepoint&#39;</span><span class="p">:</span>
        <span class="n">k1</span> <span class="o">=</span> <span class="n">KneeLocator</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">distances_sorted</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
            <span class="n">distances_sorted</span><span class="p">,</span>
            <span class="n">S</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">],</span>
            <span class="n">online</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;online&#39;</span><span class="p">],</span>
            <span class="n">curve</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;curve&#39;</span><span class="p">],</span>
            <span class="n">interp_method</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;interp_method&#39;</span><span class="p">],</span>
            <span class="n">direction</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">],</span>
            <span class="n">polynomial_degree</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;polynomial_degree&#39;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">eps</span> <span class="o">=</span> <span class="n">distances_sorted</span><span class="p">[</span><span class="n">k1</span><span class="o">.</span><span class="n">knee</span><span class="p">]</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span> <span class="o">*</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;mean_multiplier&#39;</span><span class="p">]</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span> <span class="o">*</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;median_multiplier&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt_size</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Sorted Distance Index&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Nearest Neighbour Distance&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Estimated eps: </span><span class="si">{</span><span class="n">eps</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">eps</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py.tools.track_events_dataframe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_events_dataframe</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">coordinates_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">,</span> <span class="n">bin_meas_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">collid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">minSamples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clusteringMethod</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nJobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">showProgress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools.track_events_dataframe" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Function to track collective events in a dataframe.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>X</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The input dataframe containing the data to track.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>coordinates_column</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The names of the columns representing coordinates.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the column containing frame ids.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the column representing IDs. None if no such column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>bin_meas_column</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the column representing binarized measurements,
if None all measurements are used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>collid_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the output column representing collective events, will be generated.</p>
            </div>
          </td>
          <td>
                <code>&#39;collid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance for clustering, default is 1.</p>
            </div>
          </td>
          <td>
                <code>1.0</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>float | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClSz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum cluster size. Default is 3.</p>
            </div>
          </td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>minSamples</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>clusteringMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
            </div>
          </td>
          <td>
                <code>&#39;dbscan&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>linkingMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for linking, one of ['nearest', 'transportsolver']. Default is 'nearest'.</p>
            </div>
          </td>
          <td>
                <code>&#39;nearest&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames to consider. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>predictor</code></td>
          <td>
                <code>bool | <span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>nJobs</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of jobs to run in parallel. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>showProgress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to show progress bar. Default is True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>pd.DataFrame: Dataframe with tracked events.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_dataframe</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">coordinates_column</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">bin_meas_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClSz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">minSamples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clusteringMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linkingMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">nJobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">showProgress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track collective events in a dataframe.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (pd.DataFrame): The input dataframe containing the data to track.</span>
<span class="sd">        coordinates_column (List[str]): The names of the columns representing coordinates.</span>
<span class="sd">        frame_column (str): The name of the column containing frame ids.</span>
<span class="sd">        id_column (str | None): The name of the column representing IDs. None if no such column.</span>
<span class="sd">        bin_meas_column (str | None): The name of the column representing binarized measurements,</span>
<span class="sd">            if None all measurements are used.</span>
<span class="sd">        collid_column (str): The name of the output column representing collective events, will be generated.</span>
<span class="sd">        eps (float): Maximum distance for clustering, default is 1.</span>
<span class="sd">        epsPrev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        minClSz (int): Minimum cluster size. Default is 3.</span>
<span class="sd">        minSamples (int): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clusteringMethod (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        linkingMethod (str): The method used for linking, one of [&#39;nearest&#39;, &#39;transportsolver&#39;]. Default is &#39;nearest&#39;.</span>
<span class="sd">        nPrev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        nJobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        showProgress (bool): Whether or not to show progress bar. Default is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
        <span class="n">minClSz</span><span class="o">=</span><span class="n">minClSz</span><span class="p">,</span>
        <span class="n">minSamples</span><span class="o">=</span><span class="n">minSamples</span><span class="p">,</span>
        <span class="n">clusteringMethod</span><span class="o">=</span><span class="n">clusteringMethod</span><span class="p">,</span>
        <span class="n">linkingMethod</span><span class="o">=</span><span class="n">linkingMethod</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">nJobs</span><span class="o">=</span><span class="n">nJobs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tracker</span> <span class="o">=</span> <span class="n">DataFrameTracker</span><span class="p">(</span>
        <span class="n">linker</span><span class="o">=</span><span class="n">linker</span><span class="p">,</span>
        <span class="n">coordinates_column</span><span class="o">=</span><span class="n">coordinates_column</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">bin_meas_column</span><span class="o">=</span><span class="n">bin_meas_column</span><span class="p">,</span>
        <span class="n">collid_column</span><span class="o">=</span><span class="n">collid_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">df_out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
        <span class="p">[</span><span class="n">timepoint</span> <span class="k">for</span> <span class="n">timepoint</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">total</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">showProgress</span><span class="p">)]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df_out</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">collid_column</span><span class="si">}</span><span class="s2"> != -1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py.tools.track_events_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_events_image</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minSamples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clusteringMethod</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nJobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">showProgress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools.track_events_image" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Function to track events in an image using specified linking and clustering methods.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>X</code></td>
          <td>
                <code><span title="numpy">np</span>.<span title="numpy.ndarray">ndarray</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The input array containing the images to track.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Distance for clustering. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>float | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClSz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum cluster size. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>minSamples</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>clusteringMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
            </div>
          </td>
          <td>
                <code>&#39;dbscan&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames to consider. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>predictor</code></td>
          <td>
                <code>bool | <span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>linkingMethod</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method used for linking. Default is 'nearest'.</p>
            </div>
          </td>
          <td>
                <code>&#39;nearest&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>dims</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>String of dimensions in order, such as. Default is "TXY". Possible values are "T", "X", "Y", "Z".</p>
            </div>
          </td>
          <td>
                <code>&#39;TXY&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>downsample</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Factor by which to downsample the image. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>nJobs</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of jobs to run in parallel. Default is 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>showProgress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to show progress bar. Default is True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="numpy">np</span>.<span title="numpy.ndarray">ndarray</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>np.ndarray: Array of images with tracked events.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_image</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClSz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">minSamples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clusteringMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">linkingMethod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
    <span class="n">downsample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nJobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">showProgress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track events in an image using specified linking and clustering methods.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (np.ndarray): The input array containing the images to track.</span>
<span class="sd">        eps (float): Distance for clustering. Default is 1.</span>
<span class="sd">        epsPrev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        minClSz (int): Minimum cluster size. Default is 1.</span>
<span class="sd">        minSamples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clusteringMethod (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        nPrev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        linkingMethod (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        dims (str): String of dimensions in order, such as. Default is &quot;TXY&quot;. Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        downsample (int): Factor by which to downsample the image. Default is 1.</span>
<span class="sd">        nJobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        showProgress (bool): Whether or not to show progress bar. Default is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Array of images with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span> <span class="o">/</span> <span class="n">downsample</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
        <span class="n">minClSz</span><span class="o">=</span><span class="n">minClSz</span><span class="p">,</span>
        <span class="n">minSamples</span><span class="o">=</span><span class="n">minSamples</span><span class="p">,</span>
        <span class="n">clusteringMethod</span><span class="o">=</span><span class="n">clusteringMethod</span><span class="p">,</span>
        <span class="n">linkingMethod</span><span class="o">=</span><span class="n">linkingMethod</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">nJobs</span><span class="o">=</span><span class="n">nJobs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tracker</span> <span class="o">=</span> <span class="n">ImageTracker</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">)</span>
    <span class="c1"># find indices of T in dims</span>
    <span class="n">T_index</span> <span class="o">=</span> <span class="n">dims</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
        <span class="p">[</span><span class="n">timepoint</span> <span class="k">for</span> <span class="n">timepoint</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">dims</span><span class="p">),</span> <span class="n">total</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="n">T_index</span><span class="p">],</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">showProgress</span><span class="p">)],</span>
        <span class="n">axis</span><span class="o">=</span><span class="n">T_index</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="arcos4py.validation" class="doc doc-heading">
            <code>validation</code>


<a href="#arcos4py.validation" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents ">
  
      <p>Tools for validating detected collective events.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="arcos4py.validation.bootstrap_arcos" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bootstrap_arcos</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">posCols</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">,</span> <span class="n">meas_column</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span> <span class="n">smoothK</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">biasK</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peakThr</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binThr</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polyDeg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">biasMet</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClsz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stats_metric</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;total_size&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">],</span> <span class="n">pval_alternative</span><span class="o">=</span><span class="s1">&#39;greater&#39;</span><span class="p">,</span> <span class="n">finite_correction</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">paralell_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.validation.bootstrap_arcos" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Bootstrap data using the ARCOS algorithm.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing the data to be bootstrapped.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of column names containing the x and y coordinates.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the frame number.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the track id.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>meas_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column containing the measurement.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str | list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Method used for bootstrapping. Can be "shuffle_tracks", 'shuffle_timepoints', 'shift_timepoints',
'shuffle_binary_blocks', 'shuffle_coordinates_timepoint or a list of methods,
which will be applied in order of index.</p>
            </div>
          </td>
          <td>
                <code>&#39;shuffle_tracks&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>smoothK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Smoothing kernel size.</p>
            </div>
          </td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>biasK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Bias kernel size.</p>
            </div>
          </td>
          <td>
                <code>51</code>
          </td>
        </tr>
        <tr>
          <td><code>peakThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for peak detection.</p>
            </div>
          </td>
          <td>
                <code>0.2</code>
          </td>
        </tr>
        <tr>
          <td><code>binThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for binarization.</p>
            </div>
          </td>
          <td>
                <code>0.1</code>
          </td>
        </tr>
        <tr>
          <td><code>polyDeg</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Degree of the polynomial used for bias correction.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>biasMet</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Bias correction method. Can be 'none', 'runmed', 'lm'</p>
            </div>
          </td>
          <td>
                <code>&#39;runmed&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Epsilon parameter for DBSCAN.</p>
            </div>
          </td>
          <td>
                <code>2</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Parameter for linking tracks. If None, eps is used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClsz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum cluster size.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames to consider for linking.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>min_duration</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum duration of a track.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>min_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum size of a track.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>stats_metric</code></td>
          <td>
                <code>str | list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Metric to calculate. Can be "duration", "total_size", "min_size", "max_size" or a list of metrics.
Default is ["duration", "total_size"].</p>
            </div>
          </td>
          <td>
                <code>[&#39;total_size&#39;, &#39;duration&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>pval_alternative</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Alternative hypothesis for the p-value calculation. Can be "less" or "greater".</p>
            </div>
          </td>
          <td>
                <code>&#39;greater&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>finite_correction</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Correct p-values for finite sampling. Default is True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>n</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of bootstraps.</p>
            </div>
          </td>
          <td>
                <code>100</code>
          </td>
        </tr>
        <tr>
          <td><code>seed</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Seed for the random number generator.</p>
            </div>
          </td>
          <td>
                <code>42</code>
          </td>
        </tr>
        <tr>
          <td><code>allow_duplicates</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If False, resampling will check if the resampled data contains duplicates.
If True, duplicates will be allowed.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>max_tries</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum number of tries to resample data without duplicates.</p>
            </div>
          </td>
          <td>
                <code>100</code>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Show a progress bar.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>verbose</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Print additional information.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[<span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span>, <span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing the bootstrapped data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bootstrap_arcos</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">meas_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span>
    <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClsz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="s2">&quot;duration&quot;</span><span class="p">],</span>
    <span class="n">pval_alternative</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;greater&quot;</span><span class="p">,</span>
    <span class="n">finite_correction</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="n">allow_duplicates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">max_tries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">paralell_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bootstrap data using the ARCOS algorithm.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df: DataFrame containing the data to be bootstrapped.</span>
<span class="sd">        posCols: List of column names containing the x and y coordinates.</span>
<span class="sd">        frame_column: Name of the column containing the frame number.</span>
<span class="sd">        id_column: Name of the column containing the track id.</span>
<span class="sd">        meas_column: Name of the column containing the measurement.</span>
<span class="sd">        method: Method used for bootstrapping. Can be &quot;shuffle_tracks&quot;, &#39;shuffle_timepoints&#39;, &#39;shift_timepoints&#39;,</span>
<span class="sd">            &#39;shuffle_binary_blocks&#39;, &#39;shuffle_coordinates_timepoint or a list of methods,</span>
<span class="sd">            which will be applied in order of index.</span>
<span class="sd">        smoothK: Smoothing kernel size.</span>
<span class="sd">        biasK: Bias kernel size.</span>
<span class="sd">        peakThr: Threshold for peak detection.</span>
<span class="sd">        binThr: Threshold for binarization.</span>
<span class="sd">        polyDeg: Degree of the polynomial used for bias correction.</span>
<span class="sd">        biasMet: Bias correction method. Can be &#39;none&#39;, &#39;runmed&#39;, &#39;lm&#39;</span>
<span class="sd">        eps: Epsilon parameter for DBSCAN.</span>
<span class="sd">        epsPrev: Parameter for linking tracks. If None, eps is used.</span>
<span class="sd">        minClsz: Minimum cluster size.</span>
<span class="sd">        nPrev: Number of previous frames to consider for linking.</span>
<span class="sd">        min_duration: Minimum duration of a track.</span>
<span class="sd">        min_size: Minimum size of a track.</span>
<span class="sd">        stats_metric: Metric to calculate. Can be &quot;duration&quot;, &quot;total_size&quot;, &quot;min_size&quot;, &quot;max_size&quot; or a list of metrics.</span>
<span class="sd">            Default is [&quot;duration&quot;, &quot;total_size&quot;].</span>
<span class="sd">        pval_alternative: Alternative hypothesis for the p-value calculation. Can be &quot;less&quot; or &quot;greater&quot;.</span>
<span class="sd">        finite_correction: Correct p-values for finite sampling. Default is True.</span>
<span class="sd">        n: Number of bootstraps.</span>
<span class="sd">        seed: Seed for the random number generator.</span>
<span class="sd">        allow_duplicates: If False, resampling will check if the resampled data contains duplicates.</span>
<span class="sd">            If True, duplicates will be allowed.</span>
<span class="sd">        max_tries: Maximum number of tries to resample data without duplicates.</span>
<span class="sd">        show_progress: Show a progress bar.</span>
<span class="sd">        verbose: Print additional information.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame containing the bootstrapped data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats_metric</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">stats_metric</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">stats_m</span> <span class="ow">in</span> <span class="n">stats_metric</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">stats_m</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;min_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid metric: </span><span class="si">{</span><span class="n">stats_metric</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pval_alternative</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;less&quot;</span><span class="p">,</span> <span class="s2">&quot;greater&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid alternative hypothesis: </span><span class="si">{</span><span class="n">pval_alternative</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">clid_name</span> <span class="o">=</span> <span class="s1">&#39;clid&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling data using method &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling data using methods &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>

    <span class="n">df_resampled</span> <span class="o">=</span> <span class="n">resample_data</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">posCols</span><span class="o">=</span><span class="n">posCols</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">meas_column</span><span class="o">=</span><span class="n">meas_column</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
        <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
        <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
        <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">,</span>
        <span class="n">max_tries</span><span class="o">=</span><span class="n">max_tries</span><span class="p">,</span>
        <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
        <span class="n">paralell_processing</span><span class="o">=</span><span class="n">paralell_processing</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">iterations</span> <span class="o">=</span> <span class="n">df_resampled</span><span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running ARCOS and calculating &quot;</span><span class="si">{</span><span class="n">stats_metric</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>

    <span class="n">stats_df</span><span class="p">,</span> <span class="n">stats_df_mean</span> <span class="o">=</span> <span class="n">calculate_arcos_stats</span><span class="p">(</span>
        <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
        <span class="n">posCols</span><span class="o">=</span><span class="n">posCols</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">meas_column</span><span class="o">=</span><span class="n">meas_column</span><span class="p">,</span>
        <span class="n">smoothK</span><span class="o">=</span><span class="n">smoothK</span><span class="p">,</span>
        <span class="n">biasK</span><span class="o">=</span><span class="n">biasK</span><span class="p">,</span>
        <span class="n">peakThr</span><span class="o">=</span><span class="n">peakThr</span><span class="p">,</span>
        <span class="n">binThr</span><span class="o">=</span><span class="n">binThr</span><span class="p">,</span>
        <span class="n">polyDeg</span><span class="o">=</span><span class="n">polyDeg</span><span class="p">,</span>
        <span class="n">biasMet</span><span class="o">=</span><span class="n">biasMet</span><span class="p">,</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
        <span class="n">minClsz</span><span class="o">=</span><span class="n">minClsz</span><span class="p">,</span>
        <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
        <span class="n">min_duration</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
        <span class="n">min_size</span><span class="o">=</span><span class="n">min_size</span><span class="p">,</span>
        <span class="n">stats_metric</span><span class="o">=</span><span class="n">stats_metric</span><span class="p">,</span>
        <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="n">paralell_processing</span><span class="o">=</span><span class="n">paralell_processing</span><span class="p">,</span>
        <span class="n">clid_name</span><span class="o">=</span><span class="n">clid_name</span><span class="p">,</span>
        <span class="n">iterations</span><span class="o">=</span><span class="n">iterations</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">df_p</span> <span class="o">=</span> <span class="n">calculate_pvalue</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">,</span> <span class="n">stats_metric</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">,</span> <span class="n">finite_correction</span><span class="p">,</span> <span class="n">plot</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stats_df</span><span class="p">,</span> <span class="n">df_p</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py.validation.calculate_arcos_stats" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_arcos_stats</span><span class="p">(</span><span class="n">df_resampled</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="n">posCols</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">,</span> <span class="n">meas_column</span><span class="p">,</span> <span class="n">smoothK</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">biasK</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peakThr</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binThr</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polyDeg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">biasMet</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClsz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stats_metric</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;total_size&#39;</span><span class="p">],</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">paralell_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clid_name</span><span class="o">=</span><span class="s1">&#39;clid&#39;</span><span class="p">)</span></code>

<a href="#arcos4py.validation.calculate_arcos_stats" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Calculate the bootstrapped statistics.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df_resampled</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe with resampled data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>iterations</code></td>
          <td>
                <code>list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of iteration names, or range.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of position columns..</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the frame column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the id column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>meas_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the measurement column.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>smoothK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Smoothing kernel size for local detrending. Defaults to 3.</p>
            </div>
          </td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>biasK</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Bias kernel size for large scale detrending (used with biasMet='runmed'). Defaults to 51.</p>
            </div>
          </td>
          <td>
                <code>51</code>
          </td>
        </tr>
        <tr>
          <td><code>peakThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Peak threshold used for rescaling (used with biasMet='runmed'). Defaults to 0.2.</p>
            </div>
          </td>
          <td>
                <code>0.2</code>
          </td>
        </tr>
        <tr>
          <td><code>binThr</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Threshold for binarizing measurements after detrending. Defaults to 0.1.</p>
            </div>
          </td>
          <td>
                <code>0.1</code>
          </td>
        </tr>
        <tr>
          <td><code>polyDeg</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Polynomial degree used for detrending (used with biasMet='lm'). Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>biasMet</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Bias method, can be 'none', 'runmed', 'lm'. Defaults to "runmed".</p>
            </div>
          </td>
          <td>
                <code>&#39;runmed&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>eps</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Epsilon used for culstering active entities. Defaults to 2.</p>
            </div>
          </td>
          <td>
                <code>2</code>
          </td>
        </tr>
        <tr>
          <td><code>epsPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Epsilon used for linking together culsters across time. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>minClsz</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum cluster size. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>nPrev</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of previous frames to consider when tracking clusters. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>min_duration</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum duration of detected event. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>min_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum size, minimum size of detected event. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>stats_metric</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of metrics to calculate. Defaults to ['duration', 'total_size'].</p>
            </div>
          </td>
          <td>
                <code>[&#39;duration&#39;, &#39;total_size&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Show progress bar. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>paralell_processing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Use paralell processing, uses the joblib package. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>clid_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the cluster id column. Defaults to 'clid'.</p>
            </div>
          </td>
          <td>
                <code>&#39;clid&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe with the bootstrapped statistics.</p>
            </div>
          </td>
        </tr>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataframe with mean statistics.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_arcos_stats</span><span class="p">(</span>
    <span class="n">df_resampled</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">iterations</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">meas_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">smoothK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">biasK</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peakThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binThr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polyDeg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">biasMet</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClsz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;total_size&#39;</span><span class="p">],</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">paralell_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">clid_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clid&#39;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the bootstrapped statistics.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df_resampled (DataFrame): Dataframe with resampled data.</span>
<span class="sd">        iterations (list[int]): List of iteration names, or range.</span>
<span class="sd">        posCols (list): List of position columns..</span>
<span class="sd">        frame_column (str): Name of the frame column.</span>
<span class="sd">        id_column (str): Name of the id column.</span>
<span class="sd">        meas_column (str): Name of the measurement column.</span>
<span class="sd">        smoothK (int, optional): Smoothing kernel size for local detrending. Defaults to 3.</span>
<span class="sd">        biasK (int, optional): Bias kernel size for large scale detrending (used with biasMet=&#39;runmed&#39;). Defaults to 51.</span>
<span class="sd">        peakThr (float, optional): Peak threshold used for rescaling (used with biasMet=&#39;runmed&#39;). Defaults to 0.2.</span>
<span class="sd">        binThr (float, optional): Threshold for binarizing measurements after detrending. Defaults to 0.1.</span>
<span class="sd">        polyDeg (int, optional): Polynomial degree used for detrending (used with biasMet=&#39;lm&#39;). Defaults to 1.</span>
<span class="sd">        biasMet (str, optional): Bias method, can be &#39;none&#39;, &#39;runmed&#39;, &#39;lm&#39;. Defaults to &quot;runmed&quot;.</span>
<span class="sd">        eps (float, optional): Epsilon used for culstering active entities. Defaults to 2.</span>
<span class="sd">        epsPrev (int, optional): Epsilon used for linking together culsters across time. Defaults to None.</span>
<span class="sd">        minClsz (int, optional): Minimum cluster size. Defaults to 1.</span>
<span class="sd">        nPrev (int, optional): Number of previous frames to consider when tracking clusters. Defaults to 1.</span>
<span class="sd">        min_duration (int, optional): Minimum duration of detected event. Defaults to 1.</span>
<span class="sd">        min_size (int, optional): Minimum size, minimum size of detected event. Defaults to 1.</span>
<span class="sd">        stats_metric (list[str], optional): List of metrics to calculate. Defaults to [&#39;duration&#39;, &#39;total_size&#39;].</span>
<span class="sd">        show_progress (bool, optional): Show progress bar. Defaults to True.</span>
<span class="sd">        paralell_processing (bool, optional): Use paralell processing, uses the joblib package. Defaults to True.</span>
<span class="sd">        clid_name (str, optional): Name of the cluster id column. Defaults to &#39;clid&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame (pd.DataFrame): Dataframe with the bootstrapped statistics.</span>
<span class="sd">        DataFrame (pd.DataFrame): Dataframe with mean statistics.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">paralell_processing</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>

        <span class="n">stats_df_list</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)(</span>
            <span class="n">delayed</span><span class="p">(</span><span class="n">_apply_arcos</span><span class="p">)(</span>
                <span class="n">i_iter</span><span class="o">=</span><span class="n">i_iter</span><span class="p">,</span>
                <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
                <span class="n">posCols</span><span class="o">=</span><span class="n">posCols</span><span class="p">,</span>
                <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
                <span class="n">id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
                <span class="n">meas_column</span><span class="o">=</span><span class="n">meas_column</span><span class="p">,</span>
                <span class="n">smoothK</span><span class="o">=</span><span class="n">smoothK</span><span class="p">,</span>
                <span class="n">biasK</span><span class="o">=</span><span class="n">biasK</span><span class="p">,</span>
                <span class="n">peakThr</span><span class="o">=</span><span class="n">peakThr</span><span class="p">,</span>
                <span class="n">binThr</span><span class="o">=</span><span class="n">binThr</span><span class="p">,</span>
                <span class="n">polyDeg</span><span class="o">=</span><span class="n">polyDeg</span><span class="p">,</span>
                <span class="n">biasMet</span><span class="o">=</span><span class="n">biasMet</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
                <span class="n">minClsz</span><span class="o">=</span><span class="n">minClsz</span><span class="p">,</span>
                <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
                <span class="n">min_dur</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
                <span class="n">min_size</span><span class="o">=</span><span class="n">min_size</span><span class="p">,</span>
                <span class="n">clid_name</span><span class="o">=</span><span class="n">clid_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i_iter</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">stats_df_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i_iter</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
            <span class="n">stats_df</span> <span class="o">=</span> <span class="n">_apply_arcos</span><span class="p">(</span>
                <span class="n">i_iter</span><span class="o">=</span><span class="n">i_iter</span><span class="p">,</span>
                <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
                <span class="n">posCols</span><span class="o">=</span><span class="n">posCols</span><span class="p">,</span>
                <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
                <span class="n">id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
                <span class="n">meas_column</span><span class="o">=</span><span class="n">meas_column</span><span class="p">,</span>
                <span class="n">smoothK</span><span class="o">=</span><span class="n">smoothK</span><span class="p">,</span>
                <span class="n">biasK</span><span class="o">=</span><span class="n">biasK</span><span class="p">,</span>
                <span class="n">peakThr</span><span class="o">=</span><span class="n">peakThr</span><span class="p">,</span>
                <span class="n">binThr</span><span class="o">=</span><span class="n">binThr</span><span class="p">,</span>
                <span class="n">polyDeg</span><span class="o">=</span><span class="n">polyDeg</span><span class="p">,</span>
                <span class="n">biasMet</span><span class="o">=</span><span class="n">biasMet</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">epsPrev</span><span class="o">=</span><span class="n">epsPrev</span><span class="p">,</span>
                <span class="n">minClsz</span><span class="o">=</span><span class="n">minClsz</span><span class="p">,</span>
                <span class="n">nPrev</span><span class="o">=</span><span class="n">nPrev</span><span class="p">,</span>
                <span class="n">min_dur</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
                <span class="n">min_size</span><span class="o">=</span><span class="n">min_size</span><span class="p">,</span>
                <span class="n">clid_name</span><span class="o">=</span><span class="n">clid_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">stats_df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stats_df</span><span class="p">)</span>

    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">stats_df_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">stats_df_indexer</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bootstrap_iteration&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">stats_metric</span>
    <span class="n">stats_df_mean</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">stats_df</span><span class="p">[</span><span class="n">stats_df_indexer</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;bootstrap_iteration&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">stats_df_mean</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># for bootstrap iteratoins that did not detect any events, set the metric to 0</span>
    <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stats_df</span><span class="p">,</span> <span class="n">stats_df_mean</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py.validation.calculate_pvalue" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_pvalue</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">,</span> <span class="n">stats_metric</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">,</span> <span class="n">finite_correction</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.validation.calculate_pvalue" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Calculates the p-value with the given alternative hypothesis.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>stats_df_mean</code></td>
          <td>
                <code>DataFrame</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame containing the bootstrapped data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>stats_metric</code></td>
          <td>
                <code>str | list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Metric to calculate.
Can be "duration", "total_size", "min_size", "max_size" or a list of metrics.
Default is ["duration", "total_size"].</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>pval_alternative</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Alternative hypothesis for the p-value calculation.
Can be "less", "greater" or both which will return p values for both alternatives.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>finite_correction</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Correct p-values for finite sampling. Default is True.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>plot</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Plot the distribution of the bootstrapped data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>DataFrame</code></td>          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>containing the p-values.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_pvalue</span><span class="p">(</span>
    <span class="n">stats_df_mean</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">pval_alternative</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">finite_correction</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the p-value with the given alternative hypothesis.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        stats_df_mean (DataFrame): DataFrame containing the bootstrapped data.</span>
<span class="sd">        stats_metric (str | list[str]): Metric to calculate.</span>
<span class="sd">            Can be &quot;duration&quot;, &quot;total_size&quot;, &quot;min_size&quot;, &quot;max_size&quot; or a list of metrics.</span>
<span class="sd">            Default is [&quot;duration&quot;, &quot;total_size&quot;].</span>
<span class="sd">        pval_alternative (str): Alternative hypothesis for the p-value calculation.</span>
<span class="sd">            Can be &quot;less&quot;, &quot;greater&quot; or both which will return p values for both alternatives.</span>
<span class="sd">        finite_correction (bool): Correct p-values for finite sampling. Default is True.</span>
<span class="sd">        plot (bool): Plot the distribution of the bootstrapped data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame (pd.DataFrame): containing the p-values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">finite_correction</span><span class="p">:</span>
        <span class="n">pval</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_p_val_finite_sampling</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pval</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[[</span><span class="s1">&#39;total_size&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_p_val_infinite_sampling</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">))</span>
    <span class="n">pval</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;p_value&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats_metric</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">_stats_metric</span> <span class="o">=</span> <span class="n">stats_metric</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_stats_metric</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">_stats_metric</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">iter</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="p">[</span><span class="n">axis</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">stats_col</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">_stats_metric</span><span class="p">):</span>
            <span class="c1"># sns.kdeplot(stats_df_mean[stats_col], ax=ax, shade=True, sharey=True)</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_col</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">)</span>
            <span class="c1"># ax.hist(stats_df_mean[stats_col], alpha=0.5)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">stats_col</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_col</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">ax</span><span class="o">.</span><span class="n">is_first_col</span><span class="p">():</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">x_pos</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span>
            <span class="n">y_pos</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
                <span class="n">x_pos</span><span class="p">,</span>
                <span class="n">y_pos</span><span class="p">,</span>
                <span class="sa">f</span><span class="s1">&#39;p-value: </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">pval</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">stats_col</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Bootstrapped metrics&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pval</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="arcos4py.validation.resample_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resample_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">posCols</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">,</span> <span class="n">meas_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">paralell_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.validation.resample_data" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Resamples data in order to perform bootstrapping analysis.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.Dataframe">Dataframe</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The data to resample.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>posCols</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The columns to use for the position.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>frame_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The column to use for the frame.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>id_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The column to use for the object ID.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>meas_column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The column to use for the measurement.
Only needed for 'activity_blocks_shuffle'. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The method to use for resampling. Defaults to 'shuffle_tracks'.
Available methods are: "shuffle_tracks", 'shuffle_timepoints',
'shift_timepoints', 'shuffle_binary_blocks', 'shuffle_coordinates_timepoint'</p>
            </div>
          </td>
          <td>
                <code>&#39;shuffle_tracks&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>n</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of resample iterations. Defaults to 100.</p>
            </div>
          </td>
          <td>
                <code>100</code>
          </td>
        </tr>
        <tr>
          <td><code>seed</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The random seed. Defaults to 42.</p>
            </div>
          </td>
          <td>
                <code>42</code>
          </td>
        </tr>
        <tr>
          <td><code>allow_duplicates</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to allow resampling to randomly generate the same data twice.
Defaults to False.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>max_tries</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum number of tries to try ot generate unique data
when allow_duplicates is set to True. Defaults to 100.</p>
            </div>
          </td>
          <td>
                <code>100</code>
          </td>
        </tr>
        <tr>
          <td><code>verbose</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to print progress. Defaults to False.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>pd.DataFrame: The resampled data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>arcos4py/validation/_resampling.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resample_data</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">meas_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">paralell_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resamples data in order to perform bootstrapping analysis.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.Dataframe): The data to resample.</span>
<span class="sd">        posCols (list): The columns to use for the position.</span>
<span class="sd">        frame_column (str): The column to use for the frame.</span>
<span class="sd">        id_column (str): The column to use for the object ID.</span>
<span class="sd">        meas_column (str, optional): The column to use for the measurement.</span>
<span class="sd">            Only needed for &#39;activity_blocks_shuffle&#39;. Defaults to None.</span>
<span class="sd">        method (str, optional): The method to use for resampling. Defaults to &#39;shuffle_tracks&#39;.</span>
<span class="sd">            Available methods are: &quot;shuffle_tracks&quot;, &#39;shuffle_timepoints&#39;,</span>
<span class="sd">            &#39;shift_timepoints&#39;, &#39;shuffle_binary_blocks&#39;, &#39;shuffle_coordinates_timepoint&#39;</span>
<span class="sd">        n (int, optional): The number of resample iterations. Defaults to 100.</span>
<span class="sd">        seed (int, optional): The random seed. Defaults to 42.</span>
<span class="sd">        allow_duplicates (bool, optional): Whether to allow resampling to randomly generate the same data twice.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        max_tries (int, optional): The maximum number of tries to try ot generate unique data</span>
<span class="sd">            when allow_duplicates is set to True. Defaults to 100.</span>
<span class="sd">        verbose (bool, optional): Whether to print progress. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: The resampled data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># validate the input</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;data must be a pandas.DataFrame&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">posCols</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;posCols must be a list&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;frame_column must be a string&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">id_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;id_column must be a string&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">meas_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">meas_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;meas_column must be a string or None&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;method must be a string or list&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;n must be a positive integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;seed must be an integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verbose</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;verbose must be a boolean&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">paralell_processing</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;paralell_processing must be a boolean&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">posCols</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;posCols must contain at least one column&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;n must be a positive integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">seed</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;seed must be a positive integer&#39;</span><span class="p">)</span>

    <span class="n">method_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">:</span> <span class="n">shuffle_tracks</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_timepoints&#39;</span><span class="p">:</span> <span class="n">shuffle_timepoints</span><span class="p">,</span>
        <span class="s1">&#39;shift_timepoints&#39;</span><span class="p">:</span> <span class="n">shift_timepoints_per_trajectory</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_binary_blocks&#39;</span><span class="p">:</span> <span class="n">shuffle_activity_bocks_per_trajectory</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_coordinates_timepoint&#39;</span><span class="p">:</span> <span class="n">shuffle_coordinates_per_timepoint</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">function_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">id_column</span><span class="p">,</span> <span class="n">posCols</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_timepoints&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shift_timepoints&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_binary_blocks&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">meas_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_coordinates_timepoint&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">posCols</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="n">resampling_func_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># convert method to list if necessary</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="n">method</span>

    <span class="c1"># Check if the method is valid</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">method_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;method must be one of </span><span class="si">{</span><span class="n">method_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;shuffle_binary_blocks&#39;</span> <span class="ow">and</span> <span class="n">meas_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;meas_column must be set for binary_blocks_shuffle&#39;</span><span class="p">)</span>

    <span class="c1"># Check if the columns are in the data</span>
    <span class="k">if</span> <span class="s1">&#39;shuffle_binary_blocks&#39;</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="n">relevant_columns</span> <span class="o">=</span> <span class="n">posCols</span> <span class="o">+</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">,</span> <span class="n">meas_column</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">relevant_columns</span> <span class="o">=</span> <span class="n">posCols</span> <span class="o">+</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">relevant_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> not in df.columns&#39;</span><span class="p">)</span>

    <span class="c1"># check if there are any Nan in the columns selected</span>
    <span class="n">na_cols</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">relevant_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">posCols</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="n">na_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">na_cols</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;NaN values in </span><span class="si">{</span><span class="n">na_cols</span><span class="si">}</span><span class="s1">, default behaviour is to drop these rows&#39;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">na_cols</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Sort the data</span>
    <span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="n">id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="c1"># create a list of random numbers between 0 and 1000000</span>
    <span class="n">seed_list</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">1_000_000_000</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">df_out</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># shuffle xy position for each object</span>
    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling for each object </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> times&#39;</span><span class="p">)</span>

    <span class="c1"># create a list of functions to call</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="n">resampling_func_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">method_dict</span><span class="p">[</span><span class="n">method</span><span class="p">])</span>
    <span class="n">iter_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">paralell_processing</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>

        <span class="c1"># iterate over the number of resamples</span>
        <span class="n">df_out</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)(</span>
            <span class="n">delayed</span><span class="p">(</span><span class="n">_apply_resampling</span><span class="p">)(</span>
                <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iter_range</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># iterate over the number of resamples</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iter_range</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
            <span class="n">data_new</span> <span class="o">=</span> <span class="n">_apply_resampling</span><span class="p">(</span>
                <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_duplicates</span><span class="p">:</span>
                <span class="n">current_try</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="c1"># make sure that data_new is not already in df_out,</span>
                <span class="c1"># but they are both dataframes, else redo the resampling</span>
                <span class="k">while</span> <span class="nb">any</span><span class="p">(</span>
                    <span class="n">data_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">data_new</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s1">&#39;iteration&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">i</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s1">&#39;iteration&#39;</span><span class="p">])</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df_out</span>
                <span class="p">):</span>
                    <span class="n">current_try</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">data_new</span> <span class="o">=</span> <span class="n">_apply_resampling</span><span class="p">(</span>
                        <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                        <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                        <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                        <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                        <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">current_try</span> <span class="o">&gt;</span> <span class="n">max_tries</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s1">&#39;Could not find a unique resampling after 100 tries, try increasing n or allow_duplicates&#39;</span>
                        <span class="p">)</span>

            <span class="n">df_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_new</span><span class="p">)</span>

    <span class="n">data_it0</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">data_it0</span><span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_it0</span><span class="p">))</span>
    <span class="n">df_out</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data_it0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">df_out</span><span class="p">)[</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>


  </div>

  </div>

</div>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
                Thanks for your feedback!
              
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
                Thanks for your feedback! Help us improve this page by using our <a href="..." target=_blank>feedback form</a>.
              
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../usage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Usage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Usage
            </div>
          </div>
        </a>
      
      
        
        <a href="../contributing/" class="md-footer__link md-footer__link--next" aria-label="Next: Contributing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Contributing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://twitter.com/PertzL" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    <a href="https://www.pertzlab.net/" target="_blank" rel="noopener" title="Lab Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32v224c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32h-16c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32h8zM32 448h288c70.7 0 128-57.3 128-128s-57.3-128-128-128v-64c106 0 192 86 192 192 0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
    </a>
  
    
    
    <a href="https://github.com/bgraedel/arcos4py" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto:benjamin.graedel@unibe.ch" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>